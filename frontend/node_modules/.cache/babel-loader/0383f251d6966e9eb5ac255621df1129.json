{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js!/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/components/Video.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/components/Video.vue","mtime":1634085832808},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Jlcmxpbi9Eb2N1bWVudHMvcGxhdGZvcm0vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBUT0RPOiBVcGRhdGUgY29kZSB0byBzdXBwb3J0IHR3aWxpby12aWRlbyAyLngueAppbXBvcnQgVHdpbGlvLCB7IGNyZWF0ZUxvY2FsVmlkZW9UcmFjayB9IGZyb20gJ3R3aWxpby12aWRlbyc7CmltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBnZW5lcmFsTWl4aW4gZnJvbSAnLi4vbWl4aW5zL2dlbmVyYWwnOwoKdmFyIGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaWRlbycsCiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRhdGE6IHt9LAogICAgICBsb2NhbFRyYWNrOiBmYWxzZSwKICAgICAgcmVtb3RlVHJhY2s6ICcnLAogICAgICBhY3RpdmVSb29tOiAnJywKICAgICAgcHJldmlld1RyYWNrczogJycsCiAgICAgIGlkZW50aXR5OiAnJwogICAgfTsKICB9LAogIHByb3BzOiBbJ3VzZXJuYW1lJywgJ3Jvb21OYW1lJ10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY3JlYXRlQ2hhdCh0aGlzLnJvb21OYW1lKTsgLy8gV2hlbiBhIHVzZXIgaXMgYWJvdXQgdG8gdHJhbnNpdGlvbiBhd2F5IGZyb20gdGhpcyBwYWdlLAogICAgLy8gZGlzY29ubmVjdCBmcm9tIHRoZSByb29tLCBpZiBqb2luZWQuCgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMubGVhdmVSb29tSWZKb2luZWQpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QWNjZXNzVG9rZW46IGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBBeGlvcy5nZXQoIiIuY29uY2F0KF90aGlzLmdldEVudlZhcmlhYmxlKCdCQUNLRU5EJyksICIvIikuY29uY2F0KF90aGlzLmdldEN1cnJlbnRFbnZpcm9ubWVudCgpLCAiL2NoYXRzL3Rva2VuIiksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoand0LnNpZ24oewogICAgICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLnVzZXJuYW1lCiAgICAgICAgICAgICAgICAgICAgfSwgJ3RlY2huaWNhJykpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dSb29tOiBmdW5jdGlvbiBzaG93Um9vbShyb29tKSB7CiAgICAgIHRoaXMucm9vbU5hbWUgPSByb29tOwogICAgICB0aGlzLmNyZWF0ZUNoYXQodGhpcy5yb29tTmFtZSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmxlYXZlUm9vbUlmSm9pbmVkKTsKICAgICAgdGhpcy5zdGFydERhdGUgPSBuZXcgRGF0ZSgpOwogICAgfSwKICAgIC8vIEF0dGFjaCB0aGUgVHJhY2tzIHRvIHRoZSBET00uCiAgICBhdHRhY2hUcmFja3M6IGZ1bmN0aW9uIGF0dGFjaFRyYWNrcyh0cmFja3MsIGNvbnRhaW5lcikgewogICAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodHJhY2suYXR0YWNoKCkpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBBdHRhY2ggdGhlIFBhcnRpY2lwYW50J3MgVHJhY2tzIHRvIHRoZSBET00uCiAgICBhdHRhY2hQYXJ0aWNpcGFudFRyYWNrczogZnVuY3Rpb24gYXR0YWNoUGFydGljaXBhbnRUcmFja3MocGFydGljaXBhbnQsIGNvbnRhaW5lcikgewogICAgICB2YXIgdHJhY2tzID0gQXJyYXkuZnJvbShwYXJ0aWNpcGFudC50cmFja3MudmFsdWVzKCkpOwogICAgICB0aGlzLmF0dGFjaFRyYWNrcyh0cmFja3MsIGNvbnRhaW5lcik7CiAgICB9LAogICAgLy8gRGV0YWNoIHRoZSBUcmFja3MgZnJvbSB0aGUgRE9NLgogICAgZGV0YWNoVHJhY2tzOiBmdW5jdGlvbiBkZXRhY2hUcmFja3ModHJhY2tzKSB7CiAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykgewogICAgICAgIHRyYWNrLmRldGFjaCgpLmZvckVhY2goZnVuY3Rpb24gKGRldGFjaGVkRWxlbWVudCkgewogICAgICAgICAgZGV0YWNoZWRFbGVtZW50LnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBEZXRhY2ggdGhlIFBhcnRpY2lwYW50J3MgVHJhY2tzIGZyb20gdGhlIERPTS4KICAgIGRldGFjaFBhcnRpY2lwYW50VHJhY2tzOiBmdW5jdGlvbiBkZXRhY2hQYXJ0aWNpcGFudFRyYWNrcyhwYXJ0aWNpcGFudCkgewogICAgICB2YXIgdHJhY2tzID0gQXJyYXkuZnJvbShwYXJ0aWNpcGFudC50cmFja3MudmFsdWVzKCkpOwogICAgICB0aGlzLmRldGFjaFRyYWNrcyh0cmFja3MpOwogICAgfSwKICAgIC8vIExlYXZlIFJvb20uCiAgICBsZWF2ZVJvb21JZkpvaW5lZDogZnVuY3Rpb24gbGVhdmVSb29tSWZKb2luZWQoKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZVJvb20pIHsKICAgICAgICB0aGlzLmFjdGl2ZVJvb20uZGlzY29ubmVjdCgpOwogICAgICAgIFR3aWxpby5kaXNjb25uZWN0KCk7CiAgICAgICAgY29uc29sZS5sb2coJ0Rpc2Nvbm5lY3RlZCBmcm9tIHJvb20nKTsKICAgICAgfQogICAgfSwKICAgIC8vIFRPRE86IEFkZCBtdXRlIHZpZGVvIC8gYXVkaW8gZnVuY3Rpb25hbGl0eSBmb2xsb3dpbmcgaHR0cHM6Ly9tZWRpdW0uY29tL3RlYW1hcmltYWMvdHdpbGlvLXByb2dyYW1tYWJsZS12aWRlby1jaGF0LXdpdGgtbGFyYXZlbC1hbmQtdnVlLWpzLWE0ODVhMmQzMWY1ZAogICAgLy8gTXV0ZSBhdWRpbyBvZiB2aWRlbyBjaGF0CiAgICBtdXRlX2F1ZGlvOiBmdW5jdGlvbiBtdXRlX2F1ZGlvKCkgewogICAgICB0aGlzLmFjdGl2ZVJvb20ubG9jYWxQYXJ0aWNpcGFudC5hdWRpb1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChhdWRpb1RyYWNrKSB7CiAgICAgICAgYXVkaW9UcmFjay5kaXNhYmxlKCk7CiAgICAgIH0pOwogICAgICB0aGlzLm1pY3JvcGhvbmUgPSBmYWxzZTsKICAgIH0sCiAgICAvLyBVbm11dGUgYXVkaW8gb2YgdmlkZW8gY2hhdAogICAgdW5tdXRlX2F1ZGlvOiBmdW5jdGlvbiB1bm11dGVfYXVkaW8oKSB7CiAgICAgIHRoaXMuYWN0aXZlUm9vbS5sb2NhbFBhcnRpY2lwYW50LmF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGF1ZGlvVHJhY2spIHsKICAgICAgICBhdWRpb1RyYWNrLmVuYWJsZSgpOwogICAgICB9KTsKICAgICAgdGhpcy5taWNyb3Bob25lID0gdHJ1ZTsKICAgIH0sCiAgICAvLyBNdXRlIHZpZGVvCiAgICBtdXRlX3ZpZGVvOiBmdW5jdGlvbiBtdXRlX3ZpZGVvKCkgewogICAgICB0aGlzLmFjdGl2ZVJvb20ubG9jYWxQYXJ0aWNpcGFudC52aWRlb1RyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWRlb1RyYWNrKSB7CiAgICAgICAgdmlkZW9UcmFjay5kaXNhYmxlKCk7CiAgICAgIH0pOwogICAgICB0aGlzLmNhbWVyYSA9IGZhbHNlOwogICAgfSwKICAgIC8vIFVubXV0ZSB2aWRlbwogICAgdW5tdXRlX3ZpZGVvOiBmdW5jdGlvbiB1bm11dGVfdmlkZW8oKSB7CiAgICAgIHRoaXMuYWN0aXZlUm9vbS5sb2NhbFBhcnRpY2lwYW50LnZpZGVvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvVHJhY2spIHsKICAgICAgICB2aWRlb1RyYWNrLmVuYWJsZSgpOwogICAgICB9KTsKICAgICAgdGhpcy5jYW1lcmEgPSB0cnVlOwogICAgfSwKICAgIGNyZWF0ZUNoYXQ6IGZ1bmN0aW9uIGNyZWF0ZUNoYXQocm9vbU5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgVnVlVGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuZ2V0QWNjZXNzVG9rZW4oKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIFZ1ZVRoaXMucm9vbU5hbWUgPSBudWxsOwogICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgdmFyIGNvbm5lY3RPcHRpb25zID0gewogICAgICAgICAgbmFtZTogcm9vbU5hbWUsCiAgICAgICAgICAvLyBsb2dMZXZlbDogJ2RlYnVnJywKICAgICAgICAgIGF1ZGlvOiB0cnVlLAogICAgICAgICAgdmlkZW86IHsKICAgICAgICAgICAgd2lkdGg6IDYwMAogICAgICAgICAgfQogICAgICAgIH07IC8vIGJlZm9yZSBhIHVzZXIgZW50ZXJzIGEgbmV3IHJvb20sCiAgICAgICAgLy8gZGlzY29ubmVjdCB0aGUgdXNlciBmcm9tIHRoZXkgam9pbmVkIGFscmVhZHkKCiAgICAgICAgX3RoaXMyLmxlYXZlUm9vbUlmSm9pbmVkKCk7IC8vIHJlbW92ZSBhbnkgcmVtb3RlIHRyYWNrIHdoZW4gam9pbmluZyBhIG5ldyByb29tCgoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlVHJhY2snKS5pbm5lckhUTUwgPSAnJzsKICAgICAgICBUd2lsaW8uY29ubmVjdCh0b2tlbiwgY29ubmVjdE9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJvb20pIHsKICAgICAgICAgIC8vIHNldCBhY3RpdmUgdG9vbQogICAgICAgICAgVnVlVGhpcy5hY3RpdmVSb29tID0gcm9vbTsKICAgICAgICAgIFZ1ZVRoaXMucm9vbU5hbWUgPSByb29tTmFtZTsKICAgICAgICAgIFZ1ZVRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byByb29tJyk7IC8vIEF0dGFjaCB0aGUgVHJhY2tzIG9mIHRoZSBSb29tJ3MgUGFydGljaXBhbnRzLgoKICAgICAgICAgIHJvb20ucGFydGljaXBhbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcnRpY2lwYW50KTsKICAgICAgICAgICAgdmFyIHByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlVHJhY2snKTsKICAgICAgICAgICAgVnVlVGhpcy5hdHRhY2hQYXJ0aWNpcGFudFRyYWNrcyhwYXJ0aWNpcGFudCwgcHJldmlld0NvbnRhaW5lcik7CiAgICAgICAgICB9KTsgLy8gV2hlbiBhIFBhcnRpY2lwYW50IGpvaW5zIHRoZSBSb29tLCBsb2cgdGhlIGV2ZW50LgoKICAgICAgICAgIHJvb20ub24oJ3BhcnRpY2lwYW50Q29ubmVjdGVkJywgZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJKb2luaW5nOiAnIi5jb25jYXQocGFydGljaXBhbnQuaWRlbnRpdHksICInIikpOwogICAgICAgICAgfSk7IC8vIFdoZW4gYSBQYXJ0aWNpcGFudCBhZGRzIGEgVHJhY2ssIGF0dGFjaCBpdCB0byB0aGUgRE9NLgoKICAgICAgICAgIHJvb20ub24oJ3RyYWNrQWRkZWQnLCBmdW5jdGlvbiAodHJhY2ssIHBhcnRpY2lwYW50KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCIiLmNvbmNhdChwYXJ0aWNpcGFudC5pZGVudGl0eSwgIiBhZGRlZCB0cmFjazogIikuY29uY2F0KHRyYWNrLmtpbmQpKTsKICAgICAgICAgICAgdmFyIHByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3RlVHJhY2snKTsKICAgICAgICAgICAgVnVlVGhpcy5hdHRhY2hUcmFja3MoW3RyYWNrXSwgcHJldmlld0NvbnRhaW5lcik7CiAgICAgICAgICB9KTsgLy8gV2hlbiBhIFBhcnRpY2lwYW50IHJlbW92ZXMgYSBUcmFjaywgZGV0YWNoIGl0IGZyb20gdGhlIERPTS4KCiAgICAgICAgICByb29tLm9uKCd0cmFja1JlbW92ZWQnLCBmdW5jdGlvbiAodHJhY2ssIHBhcnRpY2lwYW50KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCIiLmNvbmNhdChwYXJ0aWNpcGFudC5pZGVudGl0eSwgIiByZW1vdmVkIHRyYWNrOiAiKS5jb25jYXQodHJhY2sua2luZCkpOwogICAgICAgICAgICBWdWVUaGlzLmRldGFjaFRyYWNrcyhbdHJhY2tdKTsKICAgICAgICAgIH0pOyAvLyBXaGVuIGEgUGFydGljaXBhbnQgbGVhdmVzIHRoZSBSb29tLCBkZXRhY2ggaXRzIFRyYWNrcy4KCiAgICAgICAgICByb29tLm9uKCdwYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCcsIGZ1bmN0aW9uIChwYXJ0aWNpcGFudCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiUGFydGljaXBhbnQgJyIuY29uY2F0KHBhcnRpY2lwYW50LmlkZW50aXR5LCAiJyBsZWZ0IHRoZSByb29tIikpOwogICAgICAgICAgICBWdWVUaGlzLmRldGFjaFBhcnRpY2lwYW50VHJhY2tzKHBhcnRpY2lwYW50KTsKICAgICAgICAgIH0pOyAvLyBpZiBsb2NhbCBwcmV2aWV3IGlzIG5vdCBhY3RpdmUsIGNyZWF0ZSBpdAoKICAgICAgICAgIGlmICghVnVlVGhpcy5sb2NhbFRyYWNrKSB7CiAgICAgICAgICAgIGNyZWF0ZUxvY2FsVmlkZW9UcmFjaygpLnRoZW4oZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgICAgICAgdmFyIGxvY2FsTWVkaWFDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9jYWxUcmFjaycpOwogICAgICAgICAgICAgIGxvY2FsTWVkaWFDb250YWluZXIuYXBwZW5kQ2hpbGQodHJhY2suYXR0YWNoKCkpOwogICAgICAgICAgICAgIFZ1ZVRoaXMubG9jYWxUcmFjayA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Video.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"col-md-6 box\">\n    <div class=\"roomTitle\">\n      <span v-if=\"loading\"> Loading... {{roomName}}</span>\n      <span v-else-if=\"!loading && roomName\"> Connected to {{roomName}}</span>\n      <span v-else>Select a room to get started</span>\n    </div>\n    <div class=\"row remote_video_container\">\n      <div id=\"remoteTrack\"></div>\n    </div>\n    <div class=\"spacing\"></div>\n    <div class=\"row\">\n      <div id=\"localTrack\"></div>\n    </div>\n    <button type=\"submit\"\n      size=\"sm\"\n      style=\"top: 5px,\n      left: 5px\"\n      @click=\"\n        leaveRoomIfJoined();\n      \"\n      class=\"btn btn-danger mb-2 Botton\">End Meeting\n    </button>\n  </div>\n</template>\n\n<script>\n// TODO: Update code to support twilio-video 2.x.x\nimport Twilio, { createLocalVideoTrack } from 'twilio-video';\nimport Axios from 'axios';\nimport generalMixin from '../mixins/general';\n\nconst jwt = require('jsonwebtoken');\n\nexport default {\n  name: 'Video',\n  mixins: [generalMixin],\n  data() {\n    return {\n      loading: false,\n      data: {},\n      localTrack: false,\n      remoteTrack: '',\n      activeRoom: '',\n      previewTracks: '',\n      identity: '',\n    };\n  },\n  props: ['username', 'roomName'],\n  created() {\n    this.createChat(this.roomName);\n    // When a user is about to transition away from this page,\n    // disconnect from the room, if joined.\n    window.addEventListener('beforeunload', this.leaveRoomIfJoined);\n  },\n  methods: {\n    async getAccessToken() {\n      // TODO: Replace username with email\n      return Axios.get(`${this.getEnvVariable('BACKEND')}/${this.getCurrentEnvironment()}/chats/token`, {\n        headers: {\n          Authorization: `Bearer ${jwt.sign({ email: this.username }, 'technica')}`,\n        },\n      });\n    },\n    showRoom(room) {\n      this.roomName = room;\n      this.createChat(this.roomName);\n      window.addEventListener('beforeunload', this.leaveRoomIfJoined);\n      this.startDate = new Date();\n    },\n    // Attach the Tracks to the DOM.\n    attachTracks(tracks, container) {\n      tracks.forEach((track) => {\n        container.appendChild(track.attach());\n      });\n    },\n    // Attach the Participant's Tracks to the DOM.\n    attachParticipantTracks(participant, container) {\n      const tracks = Array.from(participant.tracks.values());\n      this.attachTracks(tracks, container);\n    },\n    // Detach the Tracks from the DOM.\n    detachTracks(tracks) {\n      tracks.forEach((track) => {\n        track.detach().forEach((detachedElement) => {\n          detachedElement.remove();\n        });\n      });\n    },\n    // Detach the Participant's Tracks from the DOM.\n    detachParticipantTracks(participant) {\n      const tracks = Array.from(participant.tracks.values());\n      this.detachTracks(tracks);\n    },\n    // Leave Room.\n    leaveRoomIfJoined() {\n      if (this.activeRoom) {\n        this.activeRoom.disconnect();\n        Twilio.disconnect();\n        console.log('Disconnected from room');\n      }\n    },\n    // TODO: Add mute video / audio functionality following https://medium.com/teamarimac/twilio-programmable-video-chat-with-laravel-and-vue-js-a485a2d31f5d\n    // Mute audio of video chat\n    mute_audio() {\n      this.activeRoom.localParticipant.audioTracks.forEach((audioTrack) => {\n        audioTrack.disable();\n      });\n      this.microphone = false;\n    },\n    // Unmute audio of video chat\n    unmute_audio() {\n      this.activeRoom.localParticipant.audioTracks.forEach((audioTrack) => {\n        audioTrack.enable();\n      });\n      this.microphone = true;\n    },\n    // Mute video\n    mute_video() {\n      this.activeRoom.localParticipant.videoTracks.forEach((videoTrack) => {\n        videoTrack.disable();\n      });\n      this.camera = false;\n    },\n    // Unmute video\n    unmute_video() {\n      this.activeRoom.localParticipant.videoTracks.forEach((videoTrack) => {\n        videoTrack.enable();\n      });\n      this.camera = true;\n    },\n    createChat(roomName) {\n      this.loading = true;\n      const VueThis = this;\n      this.getAccessToken().then((response) => {\n        VueThis.roomName = null;\n        const { token } = response.data;\n        const connectOptions = {\n          name: roomName,\n          // logLevel: 'debug',\n          audio: true,\n          video: { width: 600 },\n        };\n          // before a user enters a new room,\n          // disconnect the user from they joined already\n        this.leaveRoomIfJoined();\n\n        // remove any remote track when joining a new room\n        document.getElementById('remoteTrack').innerHTML = '';\n        Twilio.connect(token, connectOptions).then((room) => {\n          // set active toom\n          VueThis.activeRoom = room;\n          VueThis.roomName = roomName;\n          VueThis.loading = false;\n          console.log('Connected to room');\n\n          // Attach the Tracks of the Room's Participants.\n          room.participants.forEach((participant) => {\n            console.log(participant);\n            const previewContainer = document.getElementById('remoteTrack');\n            VueThis.attachParticipantTracks(participant, previewContainer);\n          });\n          // When a Participant joins the Room, log the event.\n          room.on('participantConnected', (participant) => {\n            console.log(`Joining: '${participant.identity}'`);\n          });\n          // When a Participant adds a Track, attach it to the DOM.\n          room.on('trackAdded', (track, participant) => {\n            console.log(`${participant.identity} added track: ${track.kind}`);\n            const previewContainer = document.getElementById('remoteTrack');\n            VueThis.attachTracks([track], previewContainer);\n          });\n          // When a Participant removes a Track, detach it from the DOM.\n          room.on('trackRemoved', (track, participant) => {\n            console.log(`${participant.identity} removed track: ${track.kind}`);\n            VueThis.detachTracks([track]);\n          });\n          // When a Participant leaves the Room, detach its Tracks.\n          room.on('participantDisconnected', (participant) => {\n            console.log(`Participant '${participant.identity}' left the room`);\n            VueThis.detachParticipantTracks(participant);\n          });\n          // if local preview is not active, create it\n          if (!VueThis.localTrack) {\n            createLocalVideoTrack().then((track) => {\n              const localMediaContainer = document.getElementById('localTrack');\n              localMediaContainer.appendChild(track.attach());\n              VueThis.localTrack = true;\n            });\n          }\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style >\n  .remote_video_container {\n    left: 0;\n    margin: 0;\n    border: 1px solid rgb(124, 129, 124);\n  }\n  #localTrack video {\n      border: 3px solid rgb(124, 129, 124);\n      margin: 0px;\n      max-width: 50% !important;\n      background-repeat: no-repeat;\n  }\n  .spacing {\n    padding: 20px;\n    width: 100%;\n  }\n  .roomTitle {\n      border: 1px solid rgb(124, 129, 124);\n      padding: 4px;\n      color: dodgerblue;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}