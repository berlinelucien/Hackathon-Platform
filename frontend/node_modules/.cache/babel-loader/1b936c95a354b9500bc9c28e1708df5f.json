{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js!/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Login.vue","mtime":1634085832812},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Jlcmxpbi9Eb2N1bWVudHMvcGxhdGZvcm0vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9CdXR0b24udnVlJzsKaW1wb3J0IENvbnRlbnRDb250YWluZXIgZnJvbSAnQC9jb21wb25lbnRzL0NvbnRlbnRDb250YWluZXIudnVlJzsKaW1wb3J0IGdlbmVyYWxNaXhpbiBmcm9tICdAL21peGlucy9nZW5lcmFsJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24sCiAgICBDb250ZW50Q29udGFpbmVyOiBDb250ZW50Q29udGFpbmVyCiAgfSwKICBtaXhpbnM6IFtnZW5lcmFsTWl4aW5dLAogIHByb3BzOiB7CiAgICB0cnlpbmdUb0pvaW5UZWFtOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5CdXR0b25DbGlja2VkOiBmYWxzZSwKICAgICAgdXNlckVtYWlsOiAnJywKICAgICAgZW1haWxOb3RGb3VuZDogZmFsc2UsCiAgICAgIGVtYWlsSW52YWxpZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kTWFnaWNMaW5rOiBmdW5jdGlvbiBzZW5kTWFnaWNMaW5rKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW1zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy51c2VyRW1haWwgIT09ICcnICYmIF90aGlzLnVzZXJFbWFpbC5pbmNsdWRlcygnQCcpKSB7CiAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMudXNlckVtYWlsCiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICBfdGhpcy5wZXJmb3JtUG9zdFJlcXVlc3QoX3RoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwgJ2F1dGh6L2VtYWlsJywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvZ2luQnV0dG9uQ2xpY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5lbWFpbEludmFsaWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmVyaWZ5VXNlcklkOiBmdW5jdGlvbiB2ZXJpZnlVc2VySWQoKSB7CiAgICAgIGlmICghdGhpcy5nZXRVc2VySWQoKSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdMb2dpbicpOwogICAgICB9CiAgICB9LAogICAgb3BlblNpZ251cEZvcm06IGZ1bmN0aW9uIG9wZW5TaWdudXBGb3JtKCkgewogICAgICB3aW5kb3cub3Blbih0aGlzLmdldEVudlZhcmlhYmxlKCdTSUdOVVBfRk9STV9MSU5LJyksICdfYmxhbmsnKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7Ly8gY29uc29sZS5sb2coJ1RlYW0/JywgdGhpcy50cnlpbmdUb0pvaW5UZWFtKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bykgewogICAgICAvLyB3YXRjaCByb3V0ZSBjaGFuZ2VzIGFuZCBraWNrIHRoZSB1c2VyIG91dCBpZiB0aGV5J3JlIG5vdCBwcm9wZXJseSBsb2dnZWQgaW4KICAgICAgaWYgKHRvLm5hbWUgIT09ICdMb2dpbicpIHsKICAgICAgICB0aGlzLnZlcmlmeVVzZXJJZCgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,gBAAA,MAAA,mCAAA;AACA,OAAA,YAAA,MAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,gBAAA,EAAA;AAFA,GAFA;AAMA,EAAA,MAAA,EAAA,CAAA,YAAA,CANA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,gBAAA,EAAA;AADA,GAPA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,kBAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAA,KAAA,CAAA,SAAA,KAAA,EAAA,IAAA,KAAA,CAAA,SAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,kBAAA,MADA,GACA;AAAA,oBAAA,KAAA,EAAA,KAAA,CAAA;AAAA,mBADA;;AAEA,kBAAA,KAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,cAAA,CAAA,SAAA,CAAA,EAAA,aAAA,EAAA,MAAA;;AACA,kBAAA,KAAA,CAAA,kBAAA,GAAA,IAAA;AACA,iBAJA,MAIA;AACA,kBAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KATA;AAUA,IAAA,YAVA,0BAUA;AACA,UAAA,CAAA,KAAA,SAAA,EAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,KAdA;AAeA,IAAA,cAfA,4BAeA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,KAAA,cAAA,CAAA,kBAAA,CAAA,EAAA,QAAA;AACA;AAjBA,GAlBA;AAqCA,EAAA,OArCA,qBAqCA,CACA;AACA,GAvCA;AAwCA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA;AAAA;AACA,UAAA,EAAA,CAAA,IAAA,KAAA,OAAA,EAAA;AACA,aAAA,YAAA;AACA;AACA;AALA;AAxCA,CAAA","sourcesContent":["<template>\n  <div class=\"page-container\">\n    <div class=\"login-container\">\n      <b-alert\n        :show=\"tryingToJoinTeam\"\n        variant=\"warning\"\n        class=\"team-alert\"\n      >\n        <strong>Warning:</strong> You must log into your platform account before joining a team\n      </b-alert>\n      <content-container v-if=\"!loginButtonClicked\">\n        <template v-slot:title>\n          <h3>Login</h3>\n        </template>\n        <template v-slot:body>\n          <p class=\"description-text\">Instead of using a password, enter your email so Technica can send you a magic link to sign in.</p>\n          <p\n            v-if=\"emailNotFound && !emailInvalid\"\n            class=\"text-error\"\n          >We could not find your email in our records. Hackers will be invited to the platform via email the week of the event. For further assistance, please contact our support team.</p>\n          <p\n            v-if=\"emailInvalid\"\n            class=\"text-error\"\n          >Please enter a valid email address.</p>\n          <form @submit.prevent=\"sendMagicLink\">\n            <div class=\"form-group mx-auto\">\n              <input\n                type=\"email\"\n                class=\"form-control mx-auto\"\n                id=\"emailInput\"\n                placeholder=\"Email\"\n                v-model=\"userEmail\"\n              >\n            </div>\n            <Button @click=\"sendMagicLink\">Send Me a Magic Link</Button>\n            <div class=\"login-footer\">\n              <span style=\"padding-right: .75rem\">or</span>\n              <Button\n                outlined\n                @click=\"openSignupForm()\"\n              >Sign Up</Button>\n            </div>\n          </form>\n        </template>\n      </content-container>\n\n      <content-container v-else>\n        <template v-slot:title>\n          <h3>Check Your Email...</h3>\n        </template>\n        <template v-slot:body>\n          <p\n            class=\"description-text\"\n            style=\"margin-bottom: 3rem\"\n          >We sent an email to <b>{{ userEmail }}</b>! It has a magic link to help sign you in to Technica.</p>\n          <img\n            alt=\"Mail icon\"\n            src=\"../assets/mail-icon.svg\"\n            height=\"120\"\n          >\n        </template>\n      </content-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Button from '@/components/Button.vue';\nimport ContentContainer from '@/components/ContentContainer.vue';\nimport generalMixin from '@/mixins/general';\n\nexport default {\n  name: 'Login',\n  components: {\n    Button,\n    ContentContainer,\n  },\n  mixins: [generalMixin],\n  props: {\n    tryingToJoinTeam: Boolean,\n  },\n  data() {\n    return {\n      loginButtonClicked: false,\n      userEmail: '',\n      emailNotFound: false,\n      emailInvalid: false,\n    };\n  },\n  methods: {\n    async sendMagicLink() {\n      if (this.userEmail !== '' && this.userEmail.includes('@')) {\n        const params = { email: this.userEmail };\n        this.performPostRequest(this.getEnvVariable('BACKEND'), 'authz/email', params);\n        this.loginButtonClicked = true;\n      } else {\n        this.emailInvalid = true;\n      }\n    },\n    verifyUserId() {\n      if ((!this.getUserId())) {\n        this.$router.push('Login');\n      }\n    },\n    openSignupForm() {\n      window.open(this.getEnvVariable('SIGNUP_FORM_LINK'), '_blank');\n    },\n  },\n  mounted() {\n    // console.log('Team?', this.tryingToJoinTeam);\n  },\n  watch: {\n    $route(to) { // watch route changes and kick the user out if they're not properly logged in\n      if (to.name !== 'Login') {\n        this.verifyUserId();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.page-container {\n  width: 100vw;\n}\n\n.login-container {\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n@media (min-width: 900px) {\n  .form-control {\n    max-width: 415px;\n  }\n}\n\n.description-text {\n  color: var(--color-muted-text);\n}\n\n.login-footer {\n  margin-bottom: 3rem;\n}\n\n.text-error {\n  color: var(--color-error);\n}\n\n.team-alert {\n  border-radius: var(--border-radius);\n}\n</style>\n"],"sourceRoot":"src/views"}]}