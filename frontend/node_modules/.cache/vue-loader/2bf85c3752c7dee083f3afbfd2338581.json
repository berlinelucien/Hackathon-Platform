{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/components/EasterEgg.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/components/EasterEgg.vue","mtime":1634690659398},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0J1dHRvbi52dWUnOwppbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgZ2VuZXJhbE1peGluIGZyb20gJy4uL21peGlucy9nZW5lcmFsJzsKCmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFYXN0ZXJFZ2cnLAogIG1peGluczogW2dlbmVyYWxNaXhpbl0sCiAgY29tcG9uZW50czogewogICAgQnV0dG9uLAogIH0sCiAgcHJvcHM6IHsKICAgIGluZGV4OiBOdW1iZXIsCiAgICBoaW50OiBTdHJpbmcsCiAgICBmaWxlTmFtZTogU3RyaW5nLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2dyZXNzOiB0aGlzLmdldFByb2dyZXNzKCksCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1vZGFsVGl0bGUoKSB7CiAgICAgIHJldHVybiAodGhpcy5wcm9ncmVzcyA9PT0gNSkgPyAiWW91J3ZlIGZvdW5kIGFsbCB0aGUgZWFzdGVyIGVnZ3MhIENvbmdyYXR1bGF0aW9ucyEiCiAgICAgICAgOiBgWW914oCZdmUgZm91bmQgY2x1ZSAke3RoaXMucHJvZ3Jlc3N9IG91dCBvZiB0aGUgNSBpbiB0aGUgU2NhdmVuZ2VyIEh1bnQhIEtlZXAgR29pbmchYDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyByZXRyaWV2ZSBlYXN0ZXIgZWdnIHByb2dyZXNzIG9mIHVzZXIKICAgIGFzeW5jIGdldFByb2dyZXNzKCkgewogICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBBeGlvcy5nZXQoYCR7dGhpcy5nZXRFbnZWYXJpYWJsZSgnQkFDS0VORCcpfS9hZG1pbi9lYXN0ZXJfZWdnc2AsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7and0LnNpZ24oeyBpZDogdGhpcy5nZXRVc2VySWQoKSB9LCAndGVjaG5pY2EnKX1gLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7CiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IE51bWJlcihyZXN1bHQuZGF0YS5wcm9ncmVzcyk7CiAgICAgIH0KICAgIH0sCiAgICB2aWV3TW9kYWwoKSB7CiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygnZWFzdGVyRWdnTW9kYWwnKTsKICAgIH0sCiAgICBnb0JhY2soKSB7CiAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgnZWFzdGVyRWdnTW9kYWwnKTsKICAgIH0sCiAgICAvLyB3aGVuIHN0YW1wIGlzIGNsaWNrZWQKICAgIHZpZXdFYXN0ZXJFZ2coKSB7CiAgICAgIGlmICh0aGlzLnByb2dyZXNzID09PSB0aGlzLmluZGV4KSB7CiAgICAgICAgdGhpcy5wcm9ncmVzcyArPSAxOwogICAgICAgIEF4aW9zLnBvc3QoYCR7dGhpcy5nZXRFbnZWYXJpYWJsZSgnQkFDS0VORCcpfS9hZG1pbi9lYXN0ZXJfZWdnc2AsIHsKICAgICAgICAgIHByb2dyZXNzOiB0aGlzLnByb2dyZXNzLAogICAgICAgIH0sIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2p3dC5zaWduKHsgaWQ6IHRoaXMuZ2V0VXNlcklkKCkgfSwgJ3RlY2huaWNhJyl9YCwKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogIH0sCn07Cg=="},{"version":3,"sources":["EasterEgg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"EasterEgg.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div v-if=\"this.progress >= this.index\" @click=\"viewEasterEgg()\" v-b-modal.easterEggModal>\n            <img :src=\"require('../assets/'+this.fileName)\" class=\"stamp-img\">\n        </div>\n        <b-modal id=\"easterEggModal\" :title=\"modalTitle\" size=\"lg\" style=\"padding-left: 4rem; padding-right: 4rem;\">\n            <div class=\"ee-modal-container\">\n                <p class=\"my-4\" style=\"padding-left: 4rem; padding-right: 4rem;text-align: center\"> {{ this.hint }}</p>\n                <p v-if=\"this.progress == 5\"><a href=\"https://www.notion.so/Postcard-Prize-Pack-76c80c8023f24597a119fb3a5720373e\" target=\"_blank\" >Your name has been entered into a raffle for prizes!</a></p>\n            </div>\n            <template v-slot:modal-footer>\n                <Button @click=\"goBack\">\n                  Back to page\n                </Button>\n            </template>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport Button from '@/components/Button.vue';\nimport Axios from 'axios';\nimport generalMixin from '../mixins/general';\n\nconst jwt = require('jsonwebtoken');\n\nexport default {\n  name: 'EasterEgg',\n  mixins: [generalMixin],\n  components: {\n    Button,\n  },\n  props: {\n    index: Number,\n    hint: String,\n    fileName: String,\n  },\n  data() {\n    return {\n      progress: this.getProgress(),\n    };\n  },\n  computed: {\n    modalTitle() {\n      return (this.progress === 5) ? \"You've found all the easter eggs! Congratulations!\"\n        : `Youâ€™ve found clue ${this.progress} out of the 5 in the Scavenger Hunt! Keep Going!`;\n    },\n  },\n  methods: {\n    // retrieve easter egg progress of user\n    async getProgress() {\n      const result = await Axios.get(`${this.getEnvVariable('BACKEND')}/admin/easter_eggs`, {\n        headers: {\n          Authorization: `Bearer ${jwt.sign({ id: this.getUserId() }, 'technica')}`,\n        },\n      });\n      if (!result.data) {\n        this.progress = 0;\n      } else {\n        this.progress = Number(result.data.progress);\n      }\n    },\n    viewModal() {\n      this.$bvModal.show('easterEggModal');\n    },\n    goBack() {\n      this.$bvModal.hide('easterEggModal');\n    },\n    // when stamp is clicked\n    viewEasterEgg() {\n      if (this.progress === this.index) {\n        this.progress += 1;\n        Axios.post(`${this.getEnvVariable('BACKEND')}/admin/easter_eggs`, {\n          progress: this.progress,\n        }, {\n          headers: {\n            Authorization: `Bearer ${jwt.sign({ id: this.getUserId() }, 'technica')}`,\n          },\n        });\n      }\n    },\n\n  },\n};\n</script>\n\n<style>\n\n.stamp-img {\n  width: 100px;\n}\n\n.stamp-img:hover {\n    filter: drop-shadow(0px 0px 12px rgba(255, 80, 145, 0.7));\n    cursor: pointer;\n}\n\n.ee-modal-container {\n    width: 100%;\n    height: 30vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n\n.modal-footer {\n    justify-content: center !important;\n}\n\n</style>\n"]}]}