{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Login.vue","mtime":1634085832812},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/css-loader/dist/cjs.js","mtime":1634257405846},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634257408068},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/postcss-loader/src/index.js","mtime":1634257406599},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGFnZS1jb250YWluZXIgewogIHdpZHRoOiAxMDB2dzsKfQoKLmxvZ2luLWNvbnRhaW5lciB7CiAgbWFyZ2luLXRvcDogM3JlbTsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKQG1lZGlhIChtaW4td2lkdGg6IDkwMHB4KSB7CiAgLmZvcm0tY29udHJvbCB7CiAgICBtYXgtd2lkdGg6IDQxNXB4OwogIH0KfQoKLmRlc2NyaXB0aW9uLXRleHQgewogIGNvbG9yOiB2YXIoLS1jb2xvci1tdXRlZC10ZXh0KTsKfQoKLmxvZ2luLWZvb3RlciB7CiAgbWFyZ2luLWJvdHRvbTogM3JlbTsKfQoKLnRleHQtZXJyb3IgewogIGNvbG9yOiB2YXIoLS1jb2xvci1lcnJvcik7Cn0KCi50ZWFtLWFsZXJ0IHsKICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTsKfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page-container\">\n    <div class=\"login-container\">\n      <b-alert\n        :show=\"tryingToJoinTeam\"\n        variant=\"warning\"\n        class=\"team-alert\"\n      >\n        <strong>Warning:</strong> You must log into your platform account before joining a team\n      </b-alert>\n      <content-container v-if=\"!loginButtonClicked\">\n        <template v-slot:title>\n          <h3>Login</h3>\n        </template>\n        <template v-slot:body>\n          <p class=\"description-text\">Instead of using a password, enter your email so Technica can send you a magic link to sign in.</p>\n          <p\n            v-if=\"emailNotFound && !emailInvalid\"\n            class=\"text-error\"\n          >We could not find your email in our records. Hackers will be invited to the platform via email the week of the event. For further assistance, please contact our support team.</p>\n          <p\n            v-if=\"emailInvalid\"\n            class=\"text-error\"\n          >Please enter a valid email address.</p>\n          <form @submit.prevent=\"sendMagicLink\">\n            <div class=\"form-group mx-auto\">\n              <input\n                type=\"email\"\n                class=\"form-control mx-auto\"\n                id=\"emailInput\"\n                placeholder=\"Email\"\n                v-model=\"userEmail\"\n              >\n            </div>\n            <Button @click=\"sendMagicLink\">Send Me a Magic Link</Button>\n            <div class=\"login-footer\">\n              <span style=\"padding-right: .75rem\">or</span>\n              <Button\n                outlined\n                @click=\"openSignupForm()\"\n              >Sign Up</Button>\n            </div>\n          </form>\n        </template>\n      </content-container>\n\n      <content-container v-else>\n        <template v-slot:title>\n          <h3>Check Your Email...</h3>\n        </template>\n        <template v-slot:body>\n          <p\n            class=\"description-text\"\n            style=\"margin-bottom: 3rem\"\n          >We sent an email to <b>{{ userEmail }}</b>! It has a magic link to help sign you in to Technica.</p>\n          <img\n            alt=\"Mail icon\"\n            src=\"../assets/mail-icon.svg\"\n            height=\"120\"\n          >\n        </template>\n      </content-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Button from '@/components/Button.vue';\nimport ContentContainer from '@/components/ContentContainer.vue';\nimport generalMixin from '@/mixins/general';\n\nexport default {\n  name: 'Login',\n  components: {\n    Button,\n    ContentContainer,\n  },\n  mixins: [generalMixin],\n  props: {\n    tryingToJoinTeam: Boolean,\n  },\n  data() {\n    return {\n      loginButtonClicked: false,\n      userEmail: '',\n      emailNotFound: false,\n      emailInvalid: false,\n    };\n  },\n  methods: {\n    async sendMagicLink() {\n      if (this.userEmail !== '' && this.userEmail.includes('@')) {\n        const params = { email: this.userEmail };\n        this.performPostRequest(this.getEnvVariable('BACKEND'), 'authz/email', params);\n        this.loginButtonClicked = true;\n      } else {\n        this.emailInvalid = true;\n      }\n    },\n    verifyUserId() {\n      if ((!this.getUserId())) {\n        this.$router.push('Login');\n      }\n    },\n    openSignupForm() {\n      window.open(this.getEnvVariable('SIGNUP_FORM_LINK'), '_blank');\n    },\n  },\n  mounted() {\n    // console.log('Team?', this.tryingToJoinTeam);\n  },\n  watch: {\n    $route(to) { // watch route changes and kick the user out if they're not properly logged in\n      if (to.name !== 'Login') {\n        this.verifyUserId();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.page-container {\n  width: 100vw;\n}\n\n.login-container {\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n@media (min-width: 900px) {\n  .form-control {\n    max-width: 415px;\n  }\n}\n\n.description-text {\n  color: var(--color-muted-text);\n}\n\n.login-footer {\n  margin-bottom: 3rem;\n}\n\n.text-error {\n  color: var(--color-error);\n}\n\n.team-alert {\n  border-radius: var(--border-radius);\n}\n</style>\n"]}]}