{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/ExpoSchedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/ExpoSchedule.vue","mtime":1634085832811},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgRGVtb0NhcmQgZnJvbSAnQC9jb21wb25lbnRzL0RlbW9DYXJkLnZ1ZSc7CmltcG9ydCBFeHBvVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL0V4cG9UYWJsZSc7CmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXInOwppbXBvcnQgZ2VuZXJhbE1peGluIGZyb20gJy4uL21peGlucy9nZW5lcmFsJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXhwbycsCiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluXSwKICBjb21wb25lbnRzOiB7CiAgICBEZW1vQ2FyZCwKICAgIEV4cG9UYWJsZSwKICAgIExvYWRpbmdTcGlubmVyLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2plY3RIYXNBbHJlYWR5QmVlblN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIHNjaGVkdWxlOiBudWxsLAogICAgICBkYXRhTG9hZGVkOiBmYWxzZSwKICAgICAgY3VycmVudFRlYW1JZDogbnVsbCwKICAgICAgYWNjZXNzX2xldmVsOiBudWxsLAogICAgICBncm91cDogbnVsbCwKICAgIH07CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5hY2Nlc3NfbGV2ZWwgPSB0aGlzLmdldEN1cnJlbnRVc2VyKCkuYWNjZXNzX2xldmVsOwogICAgdGhpcy5ncm91cCA9IHRoaXMuZ2V0VXNlckdyb3VwKCk7CiAgICBhd2FpdCB0aGlzLmdldFNjaGVkdWxlKCk7CiAgICB0aGlzLmRhdGFMb2FkZWQgPSB0cnVlOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0VGVhbSgpIHsKICAgICAgY29uc3QgdGVhbVBhcmFtcyA9IHsKICAgICAgICB1c2VyX2lkOiB0aGlzLmdldFVzZXJJZCgpLAogICAgICB9OwogICAgICBjb25zdCB0ZWFtID0gYXdhaXQgdGhpcy5wZXJmb3JtR2V0UmVxdWVzdCh0aGlzLmdldEVudlZhcmlhYmxlKCdCQUNLRU5EJyksICd0ZWFtcy9tZW1iZXJzaGlwJywgdGVhbVBhcmFtcyk7CiAgICAgIGlmICh0ZWFtWzBdKSB7CiAgICAgICAgdGhpcy5oYXNUZWFtID0gdHJ1ZTsKICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICB0ZWFtX2lkOiB0ZWFtWzBdLnRlYW1faWQsCiAgICAgICAgfTsKICAgICAgICAvLyBjaGVjayBzdWJtaXNzaW9uIHN0YXR1cyBvZiBwcm9qZWN0CiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgdGhpcy5wZXJmb3JtR2V0UmVxdWVzdCh0aGlzLmdldEVudlZhcmlhYmxlKCdCQUNLRU5EJyksICd0ZWFtcy9zdWJtaXNzaW9uJywgcGFyYW1zKTsKICAgICAgICB0aGlzLnByb2plY3RIYXNBbHJlYWR5QmVlblN1Ym1pdHRlZCA9IHN0YXR1c1swXS5wcm9qZWN0X3N1Ym1pdHRlZDsKICAgICAgICB0aGlzLmN1cnJlbnRUZWFtSWQgPSB0ZWFtWzBdLnRlYW1faWQ7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRUZWFtRXhwb1NjaGVkdWxlKCkgewogICAgICBhd2FpdCB0aGlzLmdldFRlYW0oKTsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHRlYW1JZDogdGhpcy5jdXJyZW50VGVhbUlkLAogICAgICB9OwogICAgICBjb25zdCBzY2hlZHVsZSA9IGF3YWl0IHRoaXMucGVyZm9ybUdldFJlcXVlc3QodGhpcy5nZXRFbnZWYXJpYWJsZSgnQkFDS0VORCcpLCAnZXhwby9zY2hlZHVsZS91c2VyJywgcGFyYW1zKTsKICAgICAgcmV0dXJuIHNjaGVkdWxlLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuc3RhcnRfdGltZSkgLSBuZXcgRGF0ZShiLnN0YXJ0X3RpbWUpKTsKICAgIH0sCiAgICBhc3luYyBnZXRTcG9uc29yRXhwb1NjaGVkdWxlKCkgewogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgc3BvbnNvck5hbWU6IHRoaXMuYWNjZXNzX2xldmVsLAogICAgICB9OwogICAgICByZXR1cm4gdGhpcy5wZXJmb3JtR2V0UmVxdWVzdCh0aGlzLmdldEVudlZhcmlhYmxlKCdCQUNLRU5EJyksICdleHBvL3NjaGVkdWxlL3Nwb25zb3InLCBwYXJhbXMpOwogICAgfSwKICAgIGFzeW5jIGdldEZ1bGxFeHBvU2NoZWR1bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlcmZvcm1HZXRSZXF1ZXN0KAogICAgICAgIHRoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwKICAgICAgICAnZXhwby9zY2hlZHVsZScsCiAgICAgICAge30sCiAgICAgICk7CiAgICB9LAogICAgYXN5bmMgZ2V0U2NoZWR1bGUoKSB7CiAgICAgIGlmICh0aGlzLmdyb3VwID09PSAnaGFja2VyJykgewogICAgICAgIHRoaXMuc2NoZWR1bGUgPSBhd2FpdCB0aGlzLmdldFRlYW1FeHBvU2NoZWR1bGUoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmdyb3VwID09PSAnc3BvbnNvcicpIHsKICAgICAgICB0aGlzLnNjaGVkdWxlID0gYXdhaXQgdGhpcy5nZXRTcG9uc29yRXhwb1NjaGVkdWxlKCk7CiAgICAgICAgaWYgKHRoaXMuc2NoZWR1bGUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLnNjaGVkdWxlID0gYXdhaXQgdGhpcy5nZXRGdWxsRXhwb1NjaGVkdWxlKCk7CgogICAgICAgICAgLy8gVHJ5IHRvIGZpbHRlciBvbmx5IGZvciB0aGlzIHNwb25zb3IncyBkZW1vcwogICAgICAgICAgY29uc3QgZGVtb3NGb3JTcG9uc29yID0gdGhpcy5zY2hlZHVsZS5maWx0ZXIoKGRlbW8pID0+IGRlbW8uc3BvbnNvcl9uYW1lID09PSB0aGlzLmFjY2Vzc19sZXZlbCk7CgogICAgICAgICAgLy8gSWYgdGhpcyBmaWx0ZXJpbmcgZGlkbid0IHdvcmssIGp1c3QgcmVuZGVyIHRoZSBmdWxsIHNjaGVkdWxlCiAgICAgICAgICB0aGlzLnNjaGVkdWxlID0gZGVtb3NGb3JTcG9uc29yLmxlbmd0aCA+IDAgPyBkZW1vc0ZvclNwb25zb3IgOiB0aGlzLnNjaGVkdWxlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNjaGVkdWxlID0gYXdhaXQgdGhpcy5nZXRGdWxsRXhwb1NjaGVkdWxlKCk7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXRTY2hlZHVsZShzY2hlZHVsZSkgewogICAgICBjb25zdCBpdGVtcyA9IFtdOwogICAgICBpZiAoc2NoZWR1bGUpIHsKICAgICAgICBPYmplY3QudmFsdWVzKHNjaGVkdWxlKS5mb3JFYWNoKChrKSA9PiB7CiAgICAgICAgICBjb25zdCBpdGVtID0ge307CiAgICAgICAgICBpdGVtLnRlYW1fbmFtZSA9IGsudGVhbV9uYW1lOwoKICAgICAgICAgIC8vIGNvbnZlcnQgdGltZXMgdG8gRVNUCiAgICAgICAgICBsZXQgc3RhcnRUaW1lID0gbmV3IERhdGUoay5zdGFydF90aW1lKTsKICAgICAgICAgIHN0YXJ0VGltZS5zZXRIb3VycyhzdGFydFRpbWUuZ2V0SG91cnMoKSAtIDgpOwogICAgICAgICAgc3RhcnRUaW1lID0gdGhpcy5mb3JtYXRBTVBNKHN0YXJ0VGltZSk7CgogICAgICAgICAgbGV0IGVuZFRpbWUgPSBuZXcgRGF0ZShrLmVuZF90aW1lKTsKICAgICAgICAgIGVuZFRpbWUuc2V0SG91cnMoZW5kVGltZS5nZXRIb3VycygpIC0gOCk7CiAgICAgICAgICBlbmRUaW1lID0gdGhpcy5mb3JtYXRBTVBNKGVuZFRpbWUpOwoKICAgICAgICAgIGl0ZW0udGltZSA9IGAke3N0YXJ0VGltZX0gLSAke2VuZFRpbWV9YDsKICAgICAgICAgIGl0ZW0uc3BvbnNvcl9uYW1lID0gay5zcG9uc29yX25hbWU7CiAgICAgICAgICBpdGVtLnpvb21fbGluayA9IGsuem9vbV9saW5rOwogICAgICAgICAgaXRlbXMucHVzaChpdGVtKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gaXRlbXM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ExpoSchedule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExpoSchedule.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2 class=\"page-header\">Expo</h2>\n    <div class=\"container mx-auto\">\n      <template v-if=\"dataLoaded\">\n        <template v-if=\"group === 'hacker'\">\n          <template v-if=\"hasTeam && projectHasAlreadyBeenSubmitted\">\n            <template v-if=\"schedule.length !== 0\">\n              <p>\n                Great work submitting a hack! In order to demo your hack to our judges, please join\n                the zoom call at the specified time. When you join a demo session, please rename\n                yourself in Zoom to <strong>\"&lt;Your Name&gt; (&lt;Your Team Name&gt;)\"</strong>\n              </p>\n              <div class=\"demos-container\">\n                <template v-for=\"demo in schedule\">\n                  <DemoCard\n                    :demo=\"demo\"\n                    :key=\"demo.id\"\n                  />\n                </template>\n              </div>\n            </template>\n            <p v-else>\n              Sit tight&mdash;we're currently creating the Expo schedule. We will update this page when the demo times are finalized.\n            </p>\n          </template>\n          <p v-else>\n            You cannot participate in Expo if you didn't <router-link to=\"/project\">submit your hack</router-link>\n          </p>\n        </template>\n        <template v-else>\n          <template v-if=\"schedule.length !== 0\">\n            <p class=\"table-description\">Below is a list of the demos and corresponding Zoom Rooms. For an individual prize category, the Zoom room will stay the same.</p>\n            <ExpoTable :items=\"formatSchedule(schedule)\" />\n          </template>\n          <p v-else>\n            Sit tight&mdash;we're currently creating the Expo schedule. We will update this page when the demo times are finalized.\n          </p>\n        </template>\n      </template>\n      <LoadingSpinner v-else />\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport DemoCard from '@/components/DemoCard.vue';\nimport ExpoTable from '@/components/ExpoTable';\nimport LoadingSpinner from '@/components/LoadingSpinner';\nimport generalMixin from '../mixins/general';\n\nexport default {\n  name: 'Expo',\n  mixins: [generalMixin],\n  components: {\n    DemoCard,\n    ExpoTable,\n    LoadingSpinner,\n  },\n  data() {\n    return {\n      projectHasAlreadyBeenSubmitted: false,\n      schedule: null,\n      dataLoaded: false,\n      currentTeamId: null,\n      access_level: null,\n      group: null,\n    };\n  },\n  async created() {\n    this.access_level = this.getCurrentUser().access_level;\n    this.group = this.getUserGroup();\n    await this.getSchedule();\n    this.dataLoaded = true;\n  },\n  methods: {\n    async getTeam() {\n      const teamParams = {\n        user_id: this.getUserId(),\n      };\n      const team = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'teams/membership', teamParams);\n      if (team[0]) {\n        this.hasTeam = true;\n        const params = {\n          team_id: team[0].team_id,\n        };\n        // check submission status of project\n        const status = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'teams/submission', params);\n        this.projectHasAlreadyBeenSubmitted = status[0].project_submitted;\n        this.currentTeamId = team[0].team_id;\n      }\n    },\n    async getTeamExpoSchedule() {\n      await this.getTeam();\n      const params = {\n        teamId: this.currentTeamId,\n      };\n      const schedule = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'expo/schedule/user', params);\n      return schedule.sort((a, b) => new Date(a.start_time) - new Date(b.start_time));\n    },\n    async getSponsorExpoSchedule() {\n      const params = {\n        sponsorName: this.access_level,\n      };\n      return this.performGetRequest(this.getEnvVariable('BACKEND'), 'expo/schedule/sponsor', params);\n    },\n    async getFullExpoSchedule() {\n      return this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'expo/schedule',\n        {},\n      );\n    },\n    async getSchedule() {\n      if (this.group === 'hacker') {\n        this.schedule = await this.getTeamExpoSchedule();\n      } else if (this.group === 'sponsor') {\n        this.schedule = await this.getSponsorExpoSchedule();\n        if (this.schedule.length === 0) {\n          this.schedule = await this.getFullExpoSchedule();\n\n          // Try to filter only for this sponsor's demos\n          const demosForSponsor = this.schedule.filter((demo) => demo.sponsor_name === this.access_level);\n\n          // If this filtering didn't work, just render the full schedule\n          this.schedule = demosForSponsor.length > 0 ? demosForSponsor : this.schedule;\n        }\n      } else {\n        this.schedule = await this.getFullExpoSchedule();\n      }\n    },\n    formatSchedule(schedule) {\n      const items = [];\n      if (schedule) {\n        Object.values(schedule).forEach((k) => {\n          const item = {};\n          item.team_name = k.team_name;\n\n          // convert times to EST\n          let startTime = new Date(k.start_time);\n          startTime.setHours(startTime.getHours() - 8);\n          startTime = this.formatAMPM(startTime);\n\n          let endTime = new Date(k.end_time);\n          endTime.setHours(endTime.getHours() - 8);\n          endTime = this.formatAMPM(endTime);\n\n          item.time = `${startTime} - ${endTime}`;\n          item.sponsor_name = k.sponsor_name;\n          item.zoom_link = k.zoom_link;\n          items.push(item);\n        });\n      }\n      return items;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.filler {\n  cursor: text !important;\n}\n\n.content-container {\n  border-radius: 8px;\n  padding: 3rem;\n  background-color: var(--color-foreground);\n  border-radius: 4px;\n  text-align: center;\n  margin-bottom: 2rem;\n}\n.demos-container {\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.table-description {\n  margin: -1rem auto 3rem;\n  width: 75%;\n}\n</style>\n"]}]}