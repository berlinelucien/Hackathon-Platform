{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Home.vue","mtime":1634690659398},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/css-loader/dist/cjs.js","mtime":1634257405846},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634257408068},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/postcss-loader/src/index.js","mtime":1634257406599},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojaG9tZS1wYWdlIHsKICAvKiBTY3JlZW4gc2l6ZSBtaW51cyBhcHByb3ggbmF2YmFyIGhlaWdodCAqLwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMnJlbSA0cmVtOwogIGRpc3BsYXk6IGdyaWQ7CiAgZ2FwOiAycmVtOwogIGdyaWQtdGVtcGxhdGUtY29sdW1uczogM2ZyIDJmcjsKICBncmlkLXRlbXBsYXRlLXJvd3M6IG1heC1jb250ZW50IDM0MHB4IDM0MHB4OwogIGdyaWQtdGVtcGxhdGUtYXJlYXM6CiAgICAiaGVhZGVyIGhlYWRlciIKICAgICJidWxsZXRpbiBhbm5vdW5jZW1lbnRzIgogICAgImJ1bGxldGluIGFubm91bmNlbWVudHMiOwogIHBsYWNlLWl0ZW1zOiBzdHJldGNoOwp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDk2OHB4KSB7CiAgI2hvbWUtcGFnZSB7CiAgICBwYWRkaW5nOiAxcmVtOwogICAgZ2FwOiAxcmVtOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOwogICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXgtY29udGVudCA0MDBweCA0MDBweDsKICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6CiAgICAgICJoZWFkZXIgaGVhZGVyIgogICAgICAiYnVsbGV0aW4gYnVsbGV0aW4iCiAgICAgICJhbm5vdW5jZW1lbnRzIGFubm91bmNlbWVudHMiOwogIH0KfQoKLmhvbWUtaGVhZGVyIHsKICBncmlkLWFyZWE6IGhlYWRlcjsKfQoKLmFubm91bmNlbWVudHMgewogIGdyaWQtYXJlYTogYW5ub3VuY2VtZW50czsKfQoKLmJ1bGxldGluIHsKICBncmlkLWFyZWE6IGJ1bGxldGluOwogIG1pbi1oZWlnaHQ6IDA7Cn0KCi5zY29yZWJvYXJkIHsKICBncmlkLWFyZWE6IHNjb3JlYm9hcmQ7Cn0KCi5zZWN0aW9uLXRpdGxlIHsKICBtYXJnaW4tYm90dG9tOiAwOwogIHBhZGRpbmc6IDAgMXJlbTsKfQoKLmxpc3Qtd3JhcHBlciB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nLWJvdHRvbTogMXJlbTsKICBib3JkZXI6IDNweCBzb2xpZCB2YXIoLS1jb2xvci1saWdodC1ib3JkZXIpOwogIGJvcmRlci1sZWZ0OiBub25lOwogIGJvcmRlci1yaWdodDogbm9uZTsKICBtaW4taGVpZ2h0OiAwOwogIG92ZXJmbG93LXg6IGhpZGRlbjsKICBvdmVyZmxvdy15OiBhdXRvOwp9CgouY29sdW1uLWNhcmQgewogIGRpc3BsYXk6IGZsZXg7CiAgaGVpZ2h0OiAxMDAlOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgbWluLWhlaWdodDogMDsKfQoKOjp2LWRlZXAgLmNhcmQtYm9keSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"home-page\">\n    <div class=\"home-header\">\n      <h2 class=\"page-header my-0\">{{randomGreeting}}</h2>\n      <div\n        v-if=\"getUserGroup() === 'sponsor'\"\n        class=\"sponsor-buttons\"\n      >\n        <Button\n          @click=\"openIntercom()\"\n          class=\"sponsor-button\"\n        >\n          Chat with an Organizer\n        </Button>\n        <Button\n          class=\"sponsor-button\"\n          @click=\"goToSponsorAnalytics()\"\n        >\n          My Sponsor Booth\n        </Button>\n      </div>\n    </div>\n    <b-card class=\"bulletin\">\n      <div class=\"column-card\">\n        <h4 class=\"section-title\">Event Bulletin</h4>\n        <p class=\"text-muted\">\n          <vue-countdown\n            :time=\"countdownTime\"\n            :transform=\"transformSlotProps\"\n            v-if=\"hackingHasStarted\"\n            v-slot=\"{ hours, minutes }\"\n          >\n            <em><strong>Time Left to Hack</strong>: {{ hours }} hours {{ minutes }} minutes</em>\n          </vue-countdown>\n          <em v-else>Hacking begins tonight at {{ hackingStartTime }}</em>\n        </p>\n        <div class=\"list-wrapper\">\n          <EventBulletin @openScheduleModal=\"openScheduleModalDirect\"></EventBulletin>\n        </div>\n      </div>\n    </b-card>\n    <b-card class=\"announcements\">\n      <div class=\"column-card\">\n        <h4 class=\"section-title\">Announcements</h4>\n        <div class=\"announcement-list list-wrapper\">\n          <template v-if=\"dataLoaded\">\n            <template v-if=\"announcements.length > 0\">\n              <Banner\n                v-for=\"announcement in announcements\"\n                :html=\"announcement.text\"\n                :key=\"announcement.id\"\n              />\n            </template>\n            <template v-else>\n              <Banner text=\"Welcome to Technica 2021!\" />\n            </template>\n          </template>\n          <LoadingSpinner v-else />\n        </div>\n      </div>\n    </b-card>\n    <EventModal\n      :selectedEvent=\"selectedEvent\"\n      :handleListToggle=\"toggleEventInList\"\n    />\n    <EasterEgg\n      :index=0\n      :hint=\"'Welcome to the Technica 2021 Scavenger Hunt! Find all the Technica characters to win a special prize. Here’s your first Techniclue: decipher “CAOLSI” to know the name of the page the next character is located.'\"\n      :fileName=\"'scavenger-hunt/1.png'\"\n    />\n  </div>\n</template>\n\n<script>\nimport Banner from '@/components/Banner.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\n// import ScheduleCarousel from '@/components/ScheduleCarousel.vue';\nimport Vue from 'vue';\nimport VueCountdown from '@chenfengyuan/vue-countdown';\nimport EventBulletin from '@/components/EventBulletin';\nimport Button from '../components/Button.vue';\nimport EventModal from '../components/EventModal';\nimport generalMixin from '../mixins/general';\nimport scheduleMixin from '../mixins/schedule';\nimport EasterEgg from '../components/EasterEgg.vue';\n\nVue.component(VueCountdown.name, VueCountdown);\n\nexport default {\n  name: 'Home',\n  components: {\n    Banner,\n    // ScheduleCarousel,\n    Button,\n    LoadingSpinner,\n    VueCountdown,\n    EventModal,\n    EventBulletin,\n    EasterEgg,\n  },\n  mixins: [generalMixin, scheduleMixin],\n  methods: {\n    initiateOnboardingWalkthrough() {\n      // eslint-disable-next-line no-undef\n      Intercom('startTour', this.getEnvVariable('PLATFORM_WALKTHROUGH_ID'));\n    },\n    openIntercom() {\n      // eslint-disable-next-line no-undef\n      Intercom('show');\n    },\n    async getAnnouncements() {\n      const announcements = await this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'admin/announcements',\n        {},\n      );\n      const formattedAnnouncements = Object.values(announcements);\n      // sort the ISO time strings lexicographigally in descending order\n      formattedAnnouncements.sort((a1, a2) => String(a2.timestamp).localeCompare(String(a1.timestamp)));\n      this.announcements = formattedAnnouncements;\n    },\n    async setupIntercomUserData() {\n      const user = await this.getCurrentUser();\n      window.intercomSettings = {\n        email: user.email,\n        name: user.full_name,\n        app_id: this.getEnvVariable('INTERCOM_APP_ID'),\n      };\n    },\n    goToSponsorAnalytics() {\n      this.$router.push(`/sponsor-analytics?id=${this.getSponsorBoothId()}`);\n    },\n    transformSlotProps(props) {\n      const formattedProps = {};\n      Object.entries(props).forEach(([key, value]) => {\n        if (key !== 'days') { formattedProps[key] = value; }\n      });\n      formattedProps.hours += props.days * 24;\n      return formattedProps;\n    },\n  },\n  data() {\n    const now = new Date();\n    const deadline = new Date(this.getEnvVariable('STOP_HACKING_DATE'));\n\n    return {\n      rawEvents: [],\n      formattedEvents: {},\n      eventsInUserList: [],\n      selectedDay: null,\n      days: [],\n      timeWindows: [],\n      scheduleColumns: 3,\n      dataLoaded: false,\n      selectedEvent: {},\n      startDate: new Date(this.getEnvVariable('START_DATE')),\n      endDate: new Date(this.getEnvVariable('END_DATE')),\n      announcements: [],\n      countdownTime: deadline - now,\n      campfireGamesData: {\n        red: { teamName: 'Red', points: 0 },\n        blue: { teamName: 'Blue', points: 0 },\n        green: { teamName: 'Green', points: 0 },\n      },\n      assignedCampfireTeam: null,\n    };\n  },\n  async mounted() {\n    [, , this.rawEvents] = await Promise.all([\n      this.getAnnouncements(),\n      this.getEventsFromUserList(),\n      this.getData(\n        this.getEnvVariable('BACKEND'),\n        'schedule',\n      ),\n    ]);\n    this.dataLoaded = true;\n    await this.activityTracking('HOME');\n    this.setupIntercomUserData();\n  },\n  beforeCreate() {\n    document.body.className = 'home';\n  },\n  beforeDestroy() {\n    document.body.className = '';\n  },\n  computed: {\n    randomGreeting() {\n      const greetings = [\n        'Hello',\n        'Welcome',\n        'Hola',\n        'Guten Tag',\n        'G\\'day',\n        'Bonjour',\n        'Konnichiwa',\n      ];\n\n      const someGreeting = greetings[Math.floor(greetings.length * Math.random())];\n\n      return `${someGreeting}, ${this.getUserName()}`;\n    },\n    hackingHasStarted() {\n      return new Date() > new Date(this.getEnvVariable('START_DATE'));\n    },\n    hackingStartTime() {\n      let time = this.formatAMPM(new Date(this.getEnvVariable('START_DATE')));\n      if (time[0] === '0') {\n        time = time.slice(1);\n      }\n\n      return time;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#home-page {\n  /* Screen size minus approx navbar height */\n  box-sizing: border-box;\n  width: 100%;\n  padding: 2rem 4rem;\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 3fr 2fr;\n  grid-template-rows: max-content 340px 340px;\n  grid-template-areas:\n    \"header header\"\n    \"bulletin announcements\"\n    \"bulletin announcements\";\n  place-items: stretch;\n}\n\n@media only screen and (max-width: 968px) {\n  #home-page {\n    padding: 1rem;\n    gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: max-content 400px 400px;\n    grid-template-areas:\n      \"header header\"\n      \"bulletin bulletin\"\n      \"announcements announcements\";\n  }\n}\n\n.home-header {\n  grid-area: header;\n}\n\n.announcements {\n  grid-area: announcements;\n}\n\n.bulletin {\n  grid-area: bulletin;\n  min-height: 0;\n}\n\n.scoreboard {\n  grid-area: scoreboard;\n}\n\n.section-title {\n  margin-bottom: 0;\n  padding: 0 1rem;\n}\n\n.list-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-bottom: 1rem;\n  border: 3px solid var(--color-light-border);\n  border-left: none;\n  border-right: none;\n  min-height: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.column-card {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  min-height: 0;\n}\n\n::v-deep .card-body {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n"]}]}