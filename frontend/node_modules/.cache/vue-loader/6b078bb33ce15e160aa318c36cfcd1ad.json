{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Home.vue","mtime":1634690659398},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL0Jhbm5lci52dWUnOwppbXBvcnQgTG9hZGluZ1NwaW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTcGlubmVyLnZ1ZSc7Ci8vIGltcG9ydCBTY2hlZHVsZUNhcm91c2VsIGZyb20gJ0AvY29tcG9uZW50cy9TY2hlZHVsZUNhcm91c2VsLnZ1ZSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZUNvdW50ZG93biBmcm9tICdAY2hlbmZlbmd5dWFuL3Z1ZS1jb3VudGRvd24nOwppbXBvcnQgRXZlbnRCdWxsZXRpbiBmcm9tICdAL2NvbXBvbmVudHMvRXZlbnRCdWxsZXRpbic7CmltcG9ydCBCdXR0b24gZnJvbSAnLi4vY29tcG9uZW50cy9CdXR0b24udnVlJzsKaW1wb3J0IEV2ZW50TW9kYWwgZnJvbSAnLi4vY29tcG9uZW50cy9FdmVudE1vZGFsJzsKaW1wb3J0IGdlbmVyYWxNaXhpbiBmcm9tICcuLi9taXhpbnMvZ2VuZXJhbCc7CmltcG9ydCBzY2hlZHVsZU1peGluIGZyb20gJy4uL21peGlucy9zY2hlZHVsZSc7CmltcG9ydCBFYXN0ZXJFZ2cgZnJvbSAnLi4vY29tcG9uZW50cy9FYXN0ZXJFZ2cudnVlJzsKClZ1ZS5jb21wb25lbnQoVnVlQ291bnRkb3duLm5hbWUsIFZ1ZUNvdW50ZG93bik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIEJhbm5lciwKICAgIC8vIFNjaGVkdWxlQ2Fyb3VzZWwsCiAgICBCdXR0b24sCiAgICBMb2FkaW5nU3Bpbm5lciwKICAgIFZ1ZUNvdW50ZG93biwKICAgIEV2ZW50TW9kYWwsCiAgICBFdmVudEJ1bGxldGluLAogICAgRWFzdGVyRWdnLAogIH0sCiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluLCBzY2hlZHVsZU1peGluXSwKICBtZXRob2RzOiB7CiAgICBpbml0aWF0ZU9uYm9hcmRpbmdXYWxrdGhyb3VnaCgpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIEludGVyY29tKCdzdGFydFRvdXInLCB0aGlzLmdldEVudlZhcmlhYmxlKCdQTEFURk9STV9XQUxLVEhST1VHSF9JRCcpKTsKICAgIH0sCiAgICBvcGVuSW50ZXJjb20oKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICBJbnRlcmNvbSgnc2hvdycpOwogICAgfSwKICAgIGFzeW5jIGdldEFubm91bmNlbWVudHMoKSB7CiAgICAgIGNvbnN0IGFubm91bmNlbWVudHMgPSBhd2FpdCB0aGlzLnBlcmZvcm1HZXRSZXF1ZXN0KAogICAgICAgIHRoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwKICAgICAgICAnYWRtaW4vYW5ub3VuY2VtZW50cycsCiAgICAgICAge30sCiAgICAgICk7CiAgICAgIGNvbnN0IGZvcm1hdHRlZEFubm91bmNlbWVudHMgPSBPYmplY3QudmFsdWVzKGFubm91bmNlbWVudHMpOwogICAgICAvLyBzb3J0IHRoZSBJU08gdGltZSBzdHJpbmdzIGxleGljb2dyYXBoaWdhbGx5IGluIGRlc2NlbmRpbmcgb3JkZXIKICAgICAgZm9ybWF0dGVkQW5ub3VuY2VtZW50cy5zb3J0KChhMSwgYTIpID0+IFN0cmluZyhhMi50aW1lc3RhbXApLmxvY2FsZUNvbXBhcmUoU3RyaW5nKGExLnRpbWVzdGFtcCkpKTsKICAgICAgdGhpcy5hbm5vdW5jZW1lbnRzID0gZm9ybWF0dGVkQW5ub3VuY2VtZW50czsKICAgIH0sCiAgICBhc3luYyBzZXR1cEludGVyY29tVXNlckRhdGEoKSB7CiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmdldEN1cnJlbnRVc2VyKCk7CiAgICAgIHdpbmRvdy5pbnRlcmNvbVNldHRpbmdzID0gewogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgIG5hbWU6IHVzZXIuZnVsbF9uYW1lLAogICAgICAgIGFwcF9pZDogdGhpcy5nZXRFbnZWYXJpYWJsZSgnSU5URVJDT01fQVBQX0lEJyksCiAgICAgIH07CiAgICB9LAogICAgZ29Ub1Nwb25zb3JBbmFseXRpY3MoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3BvbnNvci1hbmFseXRpY3M/aWQ9JHt0aGlzLmdldFNwb25zb3JCb290aElkKCl9YCk7CiAgICB9LAogICAgdHJhbnNmb3JtU2xvdFByb3BzKHByb3BzKSB7CiAgICAgIGNvbnN0IGZvcm1hdHRlZFByb3BzID0ge307CiAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHsKICAgICAgICBpZiAoa2V5ICE9PSAnZGF5cycpIHsgZm9ybWF0dGVkUHJvcHNba2V5XSA9IHZhbHVlOyB9CiAgICAgIH0pOwogICAgICBmb3JtYXR0ZWRQcm9wcy5ob3VycyArPSBwcm9wcy5kYXlzICogMjQ7CiAgICAgIHJldHVybiBmb3JtYXR0ZWRQcm9wczsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgIGNvbnN0IGRlYWRsaW5lID0gbmV3IERhdGUodGhpcy5nZXRFbnZWYXJpYWJsZSgnU1RPUF9IQUNLSU5HX0RBVEUnKSk7CgogICAgcmV0dXJuIHsKICAgICAgcmF3RXZlbnRzOiBbXSwKICAgICAgZm9ybWF0dGVkRXZlbnRzOiB7fSwKICAgICAgZXZlbnRzSW5Vc2VyTGlzdDogW10sCiAgICAgIHNlbGVjdGVkRGF5OiBudWxsLAogICAgICBkYXlzOiBbXSwKICAgICAgdGltZVdpbmRvd3M6IFtdLAogICAgICBzY2hlZHVsZUNvbHVtbnM6IDMsCiAgICAgIGRhdGFMb2FkZWQ6IGZhbHNlLAogICAgICBzZWxlY3RlZEV2ZW50OiB7fSwKICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSh0aGlzLmdldEVudlZhcmlhYmxlKCdTVEFSVF9EQVRFJykpLAogICAgICBlbmREYXRlOiBuZXcgRGF0ZSh0aGlzLmdldEVudlZhcmlhYmxlKCdFTkRfREFURScpKSwKICAgICAgYW5ub3VuY2VtZW50czogW10sCiAgICAgIGNvdW50ZG93blRpbWU6IGRlYWRsaW5lIC0gbm93LAogICAgICBjYW1wZmlyZUdhbWVzRGF0YTogewogICAgICAgIHJlZDogeyB0ZWFtTmFtZTogJ1JlZCcsIHBvaW50czogMCB9LAogICAgICAgIGJsdWU6IHsgdGVhbU5hbWU6ICdCbHVlJywgcG9pbnRzOiAwIH0sCiAgICAgICAgZ3JlZW46IHsgdGVhbU5hbWU6ICdHcmVlbicsIHBvaW50czogMCB9LAogICAgICB9LAogICAgICBhc3NpZ25lZENhbXBmaXJlVGVhbTogbnVsbCwKICAgIH07CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgWywgLCB0aGlzLnJhd0V2ZW50c10gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgIHRoaXMuZ2V0QW5ub3VuY2VtZW50cygpLAogICAgICB0aGlzLmdldEV2ZW50c0Zyb21Vc2VyTGlzdCgpLAogICAgICB0aGlzLmdldERhdGEoCiAgICAgICAgdGhpcy5nZXRFbnZWYXJpYWJsZSgnQkFDS0VORCcpLAogICAgICAgICdzY2hlZHVsZScsCiAgICAgICksCiAgICBdKTsKICAgIHRoaXMuZGF0YUxvYWRlZCA9IHRydWU7CiAgICBhd2FpdCB0aGlzLmFjdGl2aXR5VHJhY2tpbmcoJ0hPTUUnKTsKICAgIHRoaXMuc2V0dXBJbnRlcmNvbVVzZXJEYXRhKCk7CiAgfSwKICBiZWZvcmVDcmVhdGUoKSB7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9ICdob21lJzsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9ICcnOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJhbmRvbUdyZWV0aW5nKCkgewogICAgICBjb25zdCBncmVldGluZ3MgPSBbCiAgICAgICAgJ0hlbGxvJywKICAgICAgICAnV2VsY29tZScsCiAgICAgICAgJ0hvbGEnLAogICAgICAgICdHdXRlbiBUYWcnLAogICAgICAgICdHXCdkYXknLAogICAgICAgICdCb25qb3VyJywKICAgICAgICAnS29ubmljaGl3YScsCiAgICAgIF07CgogICAgICBjb25zdCBzb21lR3JlZXRpbmcgPSBncmVldGluZ3NbTWF0aC5mbG9vcihncmVldGluZ3MubGVuZ3RoICogTWF0aC5yYW5kb20oKSldOwoKICAgICAgcmV0dXJuIGAke3NvbWVHcmVldGluZ30sICR7dGhpcy5nZXRVc2VyTmFtZSgpfWA7CiAgICB9LAogICAgaGFja2luZ0hhc1N0YXJ0ZWQoKSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZSgpID4gbmV3IERhdGUodGhpcy5nZXRFbnZWYXJpYWJsZSgnU1RBUlRfREFURScpKTsKICAgIH0sCiAgICBoYWNraW5nU3RhcnRUaW1lKCkgewogICAgICBsZXQgdGltZSA9IHRoaXMuZm9ybWF0QU1QTShuZXcgRGF0ZSh0aGlzLmdldEVudlZhcmlhYmxlKCdTVEFSVF9EQVRFJykpKTsKICAgICAgaWYgKHRpbWVbMF0gPT09ICcwJykgewogICAgICAgIHRpbWUgPSB0aW1lLnNsaWNlKDEpOwogICAgICB9CgogICAgICByZXR1cm4gdGltZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"home-page\">\n    <div class=\"home-header\">\n      <h2 class=\"page-header my-0\">{{randomGreeting}}</h2>\n      <div\n        v-if=\"getUserGroup() === 'sponsor'\"\n        class=\"sponsor-buttons\"\n      >\n        <Button\n          @click=\"openIntercom()\"\n          class=\"sponsor-button\"\n        >\n          Chat with an Organizer\n        </Button>\n        <Button\n          class=\"sponsor-button\"\n          @click=\"goToSponsorAnalytics()\"\n        >\n          My Sponsor Booth\n        </Button>\n      </div>\n    </div>\n    <b-card class=\"bulletin\">\n      <div class=\"column-card\">\n        <h4 class=\"section-title\">Event Bulletin</h4>\n        <p class=\"text-muted\">\n          <vue-countdown\n            :time=\"countdownTime\"\n            :transform=\"transformSlotProps\"\n            v-if=\"hackingHasStarted\"\n            v-slot=\"{ hours, minutes }\"\n          >\n            <em><strong>Time Left to Hack</strong>: {{ hours }} hours {{ minutes }} minutes</em>\n          </vue-countdown>\n          <em v-else>Hacking begins tonight at {{ hackingStartTime }}</em>\n        </p>\n        <div class=\"list-wrapper\">\n          <EventBulletin @openScheduleModal=\"openScheduleModalDirect\"></EventBulletin>\n        </div>\n      </div>\n    </b-card>\n    <b-card class=\"announcements\">\n      <div class=\"column-card\">\n        <h4 class=\"section-title\">Announcements</h4>\n        <div class=\"announcement-list list-wrapper\">\n          <template v-if=\"dataLoaded\">\n            <template v-if=\"announcements.length > 0\">\n              <Banner\n                v-for=\"announcement in announcements\"\n                :html=\"announcement.text\"\n                :key=\"announcement.id\"\n              />\n            </template>\n            <template v-else>\n              <Banner text=\"Welcome to Technica 2021!\" />\n            </template>\n          </template>\n          <LoadingSpinner v-else />\n        </div>\n      </div>\n    </b-card>\n    <EventModal\n      :selectedEvent=\"selectedEvent\"\n      :handleListToggle=\"toggleEventInList\"\n    />\n    <EasterEgg\n      :index=0\n      :hint=\"'Welcome to the Technica 2021 Scavenger Hunt! Find all the Technica characters to win a special prize. Here’s your first Techniclue: decipher “CAOLSI” to know the name of the page the next character is located.'\"\n      :fileName=\"'scavenger-hunt/1.png'\"\n    />\n  </div>\n</template>\n\n<script>\nimport Banner from '@/components/Banner.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\n// import ScheduleCarousel from '@/components/ScheduleCarousel.vue';\nimport Vue from 'vue';\nimport VueCountdown from '@chenfengyuan/vue-countdown';\nimport EventBulletin from '@/components/EventBulletin';\nimport Button from '../components/Button.vue';\nimport EventModal from '../components/EventModal';\nimport generalMixin from '../mixins/general';\nimport scheduleMixin from '../mixins/schedule';\nimport EasterEgg from '../components/EasterEgg.vue';\n\nVue.component(VueCountdown.name, VueCountdown);\n\nexport default {\n  name: 'Home',\n  components: {\n    Banner,\n    // ScheduleCarousel,\n    Button,\n    LoadingSpinner,\n    VueCountdown,\n    EventModal,\n    EventBulletin,\n    EasterEgg,\n  },\n  mixins: [generalMixin, scheduleMixin],\n  methods: {\n    initiateOnboardingWalkthrough() {\n      // eslint-disable-next-line no-undef\n      Intercom('startTour', this.getEnvVariable('PLATFORM_WALKTHROUGH_ID'));\n    },\n    openIntercom() {\n      // eslint-disable-next-line no-undef\n      Intercom('show');\n    },\n    async getAnnouncements() {\n      const announcements = await this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'admin/announcements',\n        {},\n      );\n      const formattedAnnouncements = Object.values(announcements);\n      // sort the ISO time strings lexicographigally in descending order\n      formattedAnnouncements.sort((a1, a2) => String(a2.timestamp).localeCompare(String(a1.timestamp)));\n      this.announcements = formattedAnnouncements;\n    },\n    async setupIntercomUserData() {\n      const user = await this.getCurrentUser();\n      window.intercomSettings = {\n        email: user.email,\n        name: user.full_name,\n        app_id: this.getEnvVariable('INTERCOM_APP_ID'),\n      };\n    },\n    goToSponsorAnalytics() {\n      this.$router.push(`/sponsor-analytics?id=${this.getSponsorBoothId()}`);\n    },\n    transformSlotProps(props) {\n      const formattedProps = {};\n      Object.entries(props).forEach(([key, value]) => {\n        if (key !== 'days') { formattedProps[key] = value; }\n      });\n      formattedProps.hours += props.days * 24;\n      return formattedProps;\n    },\n  },\n  data() {\n    const now = new Date();\n    const deadline = new Date(this.getEnvVariable('STOP_HACKING_DATE'));\n\n    return {\n      rawEvents: [],\n      formattedEvents: {},\n      eventsInUserList: [],\n      selectedDay: null,\n      days: [],\n      timeWindows: [],\n      scheduleColumns: 3,\n      dataLoaded: false,\n      selectedEvent: {},\n      startDate: new Date(this.getEnvVariable('START_DATE')),\n      endDate: new Date(this.getEnvVariable('END_DATE')),\n      announcements: [],\n      countdownTime: deadline - now,\n      campfireGamesData: {\n        red: { teamName: 'Red', points: 0 },\n        blue: { teamName: 'Blue', points: 0 },\n        green: { teamName: 'Green', points: 0 },\n      },\n      assignedCampfireTeam: null,\n    };\n  },\n  async mounted() {\n    [, , this.rawEvents] = await Promise.all([\n      this.getAnnouncements(),\n      this.getEventsFromUserList(),\n      this.getData(\n        this.getEnvVariable('BACKEND'),\n        'schedule',\n      ),\n    ]);\n    this.dataLoaded = true;\n    await this.activityTracking('HOME');\n    this.setupIntercomUserData();\n  },\n  beforeCreate() {\n    document.body.className = 'home';\n  },\n  beforeDestroy() {\n    document.body.className = '';\n  },\n  computed: {\n    randomGreeting() {\n      const greetings = [\n        'Hello',\n        'Welcome',\n        'Hola',\n        'Guten Tag',\n        'G\\'day',\n        'Bonjour',\n        'Konnichiwa',\n      ];\n\n      const someGreeting = greetings[Math.floor(greetings.length * Math.random())];\n\n      return `${someGreeting}, ${this.getUserName()}`;\n    },\n    hackingHasStarted() {\n      return new Date() > new Date(this.getEnvVariable('START_DATE'));\n    },\n    hackingStartTime() {\n      let time = this.formatAMPM(new Date(this.getEnvVariable('START_DATE')));\n      if (time[0] === '0') {\n        time = time.slice(1);\n      }\n\n      return time;\n    },\n  },\n};\n</script>\n\n<style scoped>\n#home-page {\n  /* Screen size minus approx navbar height */\n  box-sizing: border-box;\n  width: 100%;\n  padding: 2rem 4rem;\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 3fr 2fr;\n  grid-template-rows: max-content 340px 340px;\n  grid-template-areas:\n    \"header header\"\n    \"bulletin announcements\"\n    \"bulletin announcements\";\n  place-items: stretch;\n}\n\n@media only screen and (max-width: 968px) {\n  #home-page {\n    padding: 1rem;\n    gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: max-content 400px 400px;\n    grid-template-areas:\n      \"header header\"\n      \"bulletin bulletin\"\n      \"announcements announcements\";\n  }\n}\n\n.home-header {\n  grid-area: header;\n}\n\n.announcements {\n  grid-area: announcements;\n}\n\n.bulletin {\n  grid-area: bulletin;\n  min-height: 0;\n}\n\n.scoreboard {\n  grid-area: scoreboard;\n}\n\n.section-title {\n  margin-bottom: 0;\n  padding: 0 1rem;\n}\n\n.list-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-bottom: 1rem;\n  border: 3px solid var(--color-light-border);\n  border-left: none;\n  border-right: none;\n  min-height: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.column-card {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  min-height: 0;\n}\n\n::v-deep .card-body {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n"]}]}