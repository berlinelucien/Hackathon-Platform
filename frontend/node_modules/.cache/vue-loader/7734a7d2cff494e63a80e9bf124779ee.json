{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/ExpoSchedule.vue?vue&type=style&index=0&id=72251363&scoped=true&lang=css&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/ExpoSchedule.vue","mtime":1634085832811},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/css-loader/dist/cjs.js","mtime":1634257405846},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634257408068},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/postcss-loader/src/index.js","mtime":1634257406599},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZpbGxlciB7CiAgY3Vyc29yOiB0ZXh0ICFpbXBvcnRhbnQ7Cn0KCi5jb250ZW50LWNvbnRhaW5lciB7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIHBhZGRpbmc6IDNyZW07CiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZm9yZWdyb3VuZCk7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBtYXJnaW4tYm90dG9tOiAycmVtOwp9Ci5kZW1vcy1jb250YWluZXIgewogIG1hcmdpbjogMCBhdXRvOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgoudGFibGUtZGVzY3JpcHRpb24gewogIG1hcmdpbjogLTFyZW0gYXV0byAzcmVtOwogIHdpZHRoOiA3NSU7Cn0K"},{"version":3,"sources":["ExpoSchedule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ExpoSchedule.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2 class=\"page-header\">Expo</h2>\n    <div class=\"container mx-auto\">\n      <template v-if=\"dataLoaded\">\n        <template v-if=\"group === 'hacker'\">\n          <template v-if=\"hasTeam && projectHasAlreadyBeenSubmitted\">\n            <template v-if=\"schedule.length !== 0\">\n              <p>\n                Great work submitting a hack! In order to demo your hack to our judges, please join\n                the zoom call at the specified time. When you join a demo session, please rename\n                yourself in Zoom to <strong>\"&lt;Your Name&gt; (&lt;Your Team Name&gt;)\"</strong>\n              </p>\n              <div class=\"demos-container\">\n                <template v-for=\"demo in schedule\">\n                  <DemoCard\n                    :demo=\"demo\"\n                    :key=\"demo.id\"\n                  />\n                </template>\n              </div>\n            </template>\n            <p v-else>\n              Sit tight&mdash;we're currently creating the Expo schedule. We will update this page when the demo times are finalized.\n            </p>\n          </template>\n          <p v-else>\n            You cannot participate in Expo if you didn't <router-link to=\"/project\">submit your hack</router-link>\n          </p>\n        </template>\n        <template v-else>\n          <template v-if=\"schedule.length !== 0\">\n            <p class=\"table-description\">Below is a list of the demos and corresponding Zoom Rooms. For an individual prize category, the Zoom room will stay the same.</p>\n            <ExpoTable :items=\"formatSchedule(schedule)\" />\n          </template>\n          <p v-else>\n            Sit tight&mdash;we're currently creating the Expo schedule. We will update this page when the demo times are finalized.\n          </p>\n        </template>\n      </template>\n      <LoadingSpinner v-else />\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport DemoCard from '@/components/DemoCard.vue';\nimport ExpoTable from '@/components/ExpoTable';\nimport LoadingSpinner from '@/components/LoadingSpinner';\nimport generalMixin from '../mixins/general';\n\nexport default {\n  name: 'Expo',\n  mixins: [generalMixin],\n  components: {\n    DemoCard,\n    ExpoTable,\n    LoadingSpinner,\n  },\n  data() {\n    return {\n      projectHasAlreadyBeenSubmitted: false,\n      schedule: null,\n      dataLoaded: false,\n      currentTeamId: null,\n      access_level: null,\n      group: null,\n    };\n  },\n  async created() {\n    this.access_level = this.getCurrentUser().access_level;\n    this.group = this.getUserGroup();\n    await this.getSchedule();\n    this.dataLoaded = true;\n  },\n  methods: {\n    async getTeam() {\n      const teamParams = {\n        user_id: this.getUserId(),\n      };\n      const team = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'teams/membership', teamParams);\n      if (team[0]) {\n        this.hasTeam = true;\n        const params = {\n          team_id: team[0].team_id,\n        };\n        // check submission status of project\n        const status = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'teams/submission', params);\n        this.projectHasAlreadyBeenSubmitted = status[0].project_submitted;\n        this.currentTeamId = team[0].team_id;\n      }\n    },\n    async getTeamExpoSchedule() {\n      await this.getTeam();\n      const params = {\n        teamId: this.currentTeamId,\n      };\n      const schedule = await this.performGetRequest(this.getEnvVariable('BACKEND'), 'expo/schedule/user', params);\n      return schedule.sort((a, b) => new Date(a.start_time) - new Date(b.start_time));\n    },\n    async getSponsorExpoSchedule() {\n      const params = {\n        sponsorName: this.access_level,\n      };\n      return this.performGetRequest(this.getEnvVariable('BACKEND'), 'expo/schedule/sponsor', params);\n    },\n    async getFullExpoSchedule() {\n      return this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'expo/schedule',\n        {},\n      );\n    },\n    async getSchedule() {\n      if (this.group === 'hacker') {\n        this.schedule = await this.getTeamExpoSchedule();\n      } else if (this.group === 'sponsor') {\n        this.schedule = await this.getSponsorExpoSchedule();\n        if (this.schedule.length === 0) {\n          this.schedule = await this.getFullExpoSchedule();\n\n          // Try to filter only for this sponsor's demos\n          const demosForSponsor = this.schedule.filter((demo) => demo.sponsor_name === this.access_level);\n\n          // If this filtering didn't work, just render the full schedule\n          this.schedule = demosForSponsor.length > 0 ? demosForSponsor : this.schedule;\n        }\n      } else {\n        this.schedule = await this.getFullExpoSchedule();\n      }\n    },\n    formatSchedule(schedule) {\n      const items = [];\n      if (schedule) {\n        Object.values(schedule).forEach((k) => {\n          const item = {};\n          item.team_name = k.team_name;\n\n          // convert times to EST\n          let startTime = new Date(k.start_time);\n          startTime.setHours(startTime.getHours() - 8);\n          startTime = this.formatAMPM(startTime);\n\n          let endTime = new Date(k.end_time);\n          endTime.setHours(endTime.getHours() - 8);\n          endTime = this.formatAMPM(endTime);\n\n          item.time = `${startTime} - ${endTime}`;\n          item.sponsor_name = k.sponsor_name;\n          item.zoom_link = k.zoom_link;\n          items.push(item);\n        });\n      }\n      return items;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.filler {\n  cursor: text !important;\n}\n\n.content-container {\n  border-radius: 8px;\n  padding: 3rem;\n  background-color: var(--color-foreground);\n  border-radius: 4px;\n  text-align: center;\n  margin-bottom: 2rem;\n}\n.demos-container {\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.table-description {\n  margin: -1rem auto 3rem;\n  width: 75%;\n}\n</style>\n"]}]}