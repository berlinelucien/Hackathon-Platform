{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/components/EasterEgg.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/components/EasterEgg.vue","mtime":1634690659398},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/css-loader/dist/cjs.js","mtime":1634257405846},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634257408068},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/postcss-loader/src/index.js","mtime":1634257406599},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zdGFtcC1pbWcgewogIHdpZHRoOiAxMDBweDsKfQoKLnN0YW1wLWltZzpob3ZlciB7CiAgICBmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMTJweCByZ2JhKDI1NSwgODAsIDE0NSwgMC43KSk7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5lZS1tb2RhbC1jb250YWluZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDMwdmg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoKLm1vZGFsLWZvb3RlciB7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50Owp9Cgo="},{"version":3,"sources":["EasterEgg.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"EasterEgg.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div v-if=\"this.progress >= this.index\" @click=\"viewEasterEgg()\" v-b-modal.easterEggModal>\n            <img :src=\"require('../assets/'+this.fileName)\" class=\"stamp-img\">\n        </div>\n        <b-modal id=\"easterEggModal\" :title=\"modalTitle\" size=\"lg\" style=\"padding-left: 4rem; padding-right: 4rem;\">\n            <div class=\"ee-modal-container\">\n                <p class=\"my-4\" style=\"padding-left: 4rem; padding-right: 4rem;text-align: center\"> {{ this.hint }}</p>\n                <p v-if=\"this.progress == 5\"><a href=\"https://www.notion.so/Postcard-Prize-Pack-76c80c8023f24597a119fb3a5720373e\" target=\"_blank\" >Your name has been entered into a raffle for prizes!</a></p>\n            </div>\n            <template v-slot:modal-footer>\n                <Button @click=\"goBack\">\n                  Back to page\n                </Button>\n            </template>\n        </b-modal>\n    </div>\n</template>\n\n<script>\nimport Button from '@/components/Button.vue';\nimport Axios from 'axios';\nimport generalMixin from '../mixins/general';\n\nconst jwt = require('jsonwebtoken');\n\nexport default {\n  name: 'EasterEgg',\n  mixins: [generalMixin],\n  components: {\n    Button,\n  },\n  props: {\n    index: Number,\n    hint: String,\n    fileName: String,\n  },\n  data() {\n    return {\n      progress: this.getProgress(),\n    };\n  },\n  computed: {\n    modalTitle() {\n      return (this.progress === 5) ? \"You've found all the easter eggs! Congratulations!\"\n        : `Youâ€™ve found clue ${this.progress} out of the 5 in the Scavenger Hunt! Keep Going!`;\n    },\n  },\n  methods: {\n    // retrieve easter egg progress of user\n    async getProgress() {\n      const result = await Axios.get(`${this.getEnvVariable('BACKEND')}/admin/easter_eggs`, {\n        headers: {\n          Authorization: `Bearer ${jwt.sign({ id: this.getUserId() }, 'technica')}`,\n        },\n      });\n      if (!result.data) {\n        this.progress = 0;\n      } else {\n        this.progress = Number(result.data.progress);\n      }\n    },\n    viewModal() {\n      this.$bvModal.show('easterEggModal');\n    },\n    goBack() {\n      this.$bvModal.hide('easterEggModal');\n    },\n    // when stamp is clicked\n    viewEasterEgg() {\n      if (this.progress === this.index) {\n        this.progress += 1;\n        Axios.post(`${this.getEnvVariable('BACKEND')}/admin/easter_eggs`, {\n          progress: this.progress,\n        }, {\n          headers: {\n            Authorization: `Bearer ${jwt.sign({ id: this.getUserId() }, 'technica')}`,\n          },\n        });\n      }\n    },\n\n  },\n};\n</script>\n\n<style>\n\n.stamp-img {\n  width: 100px;\n}\n\n.stamp-img:hover {\n    filter: drop-shadow(0px 0px 12px rgba(255, 80, 145, 0.7));\n    cursor: pointer;\n}\n\n.ee-modal-container {\n    width: 100%;\n    height: 30vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n\n.modal-footer {\n    justify-content: center !important;\n}\n\n</style>\n"]}]}