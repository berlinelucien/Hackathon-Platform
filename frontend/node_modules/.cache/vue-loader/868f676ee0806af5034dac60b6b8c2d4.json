{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Event.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Event.vue","mtime":1634085832811},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCYW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL0Jhbm5lci52dWUnOwppbXBvcnQgTG9hZGluZ1NwaW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL0xvYWRpbmdTcGlubmVyLnZ1ZSc7CmltcG9ydCBMZWFkZXJib2FyZEJhcnMgZnJvbSAnQC9jb21wb25lbnRzL0xlYWRlcmJvYXJkQmFycy52dWUnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVDb3VudGRvd24gZnJvbSAnQGNoZW5mZW5neXVhbi92dWUtY291bnRkb3duJzsKaW1wb3J0IFN0cmVhbUV2ZW50QnVsbGV0aW4gZnJvbSAnQC9jb21wb25lbnRzL1N0cmVhbUV2ZW50QnVsbGV0aW4nOwppbXBvcnQgZ2VuZXJhbE1peGluIGZyb20gJy4uL21peGlucy9nZW5lcmFsJzsKaW1wb3J0IHNjaGVkdWxlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3NjaGVkdWxlJzsKClZ1ZS5jb21wb25lbnQoVnVlQ291bnRkb3duLm5hbWUsIFZ1ZUNvdW50ZG93bik7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V2ZW50JywKICBjb21wb25lbnRzOiB7CiAgICBCYW5uZXIsCiAgICBMb2FkaW5nU3Bpbm5lciwKICAgIExlYWRlcmJvYXJkQmFycywKICAgIFZ1ZUNvdW50ZG93biwKICAgIFN0cmVhbUV2ZW50QnVsbGV0aW4sCiAgfSwKICBtaXhpbnM6IFtnZW5lcmFsTWl4aW4sIHNjaGVkdWxlTWl4aW5dLAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldEFubm91bmNlbWVudHMoKSB7CiAgICAgIGNvbnN0IGFubm91bmNlbWVudHMgPSBhd2FpdCB0aGlzLnBlcmZvcm1HZXRSZXF1ZXN0KAogICAgICAgIHRoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwKICAgICAgICAnYWRtaW4vYW5ub3VuY2VtZW50cycsCiAgICAgICAge30sCiAgICAgICk7CiAgICAgIGNvbnN0IGZvcm1hdHRlZEFubm91bmNlbWVudHMgPSBbXTsKICAgICAgT2JqZWN0LmtleXMoYW5ub3VuY2VtZW50cykuZm9yRWFjaCgoYSkgPT4gewogICAgICAgIGZvcm1hdHRlZEFubm91bmNlbWVudHMucHVzaChhbm5vdW5jZW1lbnRzW2FdKTsKICAgICAgfSk7CiAgICAgIC8vIHNvcnQgdGhlIElTTyB0aW1lIHN0cmluZ3MgbGV4aWNvZ3JhcGhpZ2FsbHkgaW4gZGVzY2VuZGluZyBvcmRlcgogICAgICBmb3JtYXR0ZWRBbm5vdW5jZW1lbnRzLnNvcnQoKS5yZXZlcnNlKCk7CiAgICAgIHRoaXMuYW5ub3VuY2VtZW50cyA9IGZvcm1hdHRlZEFubm91bmNlbWVudHM7CiAgICB9LAogICAgZ29Ub1Nwb25zb3JBbmFseXRpY3MoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3BvbnNvci1hbmFseXRpY3M/aWQ9JHt0aGlzLmdldFNwb25zb3JCb290aElkKCl9YCk7CiAgICB9LAogICAgdHJhbnNmb3JtU2xvdFByb3BzKHByb3BzKSB7CiAgICAgIGNvbnN0IGZvcm1hdHRlZFByb3BzID0ge307CiAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHsKICAgICAgICBpZiAoa2V5ICE9PSAnZGF5cycpIHsgZm9ybWF0dGVkUHJvcHNba2V5XSA9IHZhbHVlOyB9CiAgICAgIH0pOwogICAgICBmb3JtYXR0ZWRQcm9wcy5ob3VycyArPSBwcm9wcy5kYXlzICogMjQ7CiAgICAgIHJldHVybiBmb3JtYXR0ZWRQcm9wczsKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgIGNvbnN0IGRlYWRsaW5lID0gbmV3IERhdGUodGhpcy5nZXRFbnZWYXJpYWJsZSgnU1RPUF9IQUNLSU5HX0RBVEUnKSk7CgogICAgcmV0dXJuIHsKICAgICAgZGF0YUxvYWRlZDogZmFsc2UsCiAgICAgIHN0YXJ0RGF0ZTogbmV3IERhdGUodGhpcy5nZXRFbnZWYXJpYWJsZSgnU1RBUlRfREFURScpKSwKICAgICAgZW5kRGF0ZTogbmV3IERhdGUodGhpcy5nZXRFbnZWYXJpYWJsZSgnRU5EX0RBVEUnKSksCiAgICAgIGFubm91bmNlbWVudHM6IFtdLAogICAgICBjb3VudGRvd25UaW1lOiBkZWFkbGluZSAtIG5vdywKICAgICAgYXNzaWduZWRDYW1wZmlyZVRlYW06IG51bGwsCiAgICB9OwogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QW5ub3VuY2VtZW50cygpOwogICAgY29uc3QgeyBtb2RlIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKICAgIGlmIChtb2RlID09PSAnaGVybycpIHsKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBoZXJvJzsKICAgIH0KICAgIGlmIChtb2RlID09PSAnaGlkZScgfHwgbW9kZSA9PT0gJ2hlcm8nKSB7CiAgICAgIGNvbnNvbGUubG9nKCdoaWRlJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm8nKS5mb3JFYWNoKChlKSA9PiB7CiAgICAgICAgZS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgIH0pOwogICAgfQoKICAgIHRoaXMuZGF0YUxvYWRlZCA9IHRydWU7CiAgfSwKICBiZWZvcmVDcmVhdGUoKSB7CiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9ICdldmVudCc7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSAnJzsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7IHRoaXMuZ2V0QW5ub3VuY2VtZW50cygpOyB9LCAxMDAwMCk7CiAgfSwKfTsK"},{"version":3,"sources":["Event.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Event.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"\" class=\"row m-0 p-0\">\n    <!-- SCHEDULE -->\n    <div class=\"col-4 dash-section info\">\n      <div class=\"panel\" style=\"flex: 1 1 auto\">\n        <h3>Upcoming Events</h3>\n        <StreamEventBulletin></StreamEventBulletin>\n      </div>\n\n    </div>\n\n    <!-- MIDDLE -->\n    <div class=\"col-4 dash-section\" style=\"justify-content: center;\">\n      <div class=\"middle my-auto\">\n        <img src=\"../assets/technica/loader.gif\" class=\"bitcamp-flame\" />\n        <h1>technica</h1>\n      </div>\n\n      <div class=\"bottom pb-5 info\">\n        <vue-countdown :time=\"countdownTime\" :transform=\"transformSlotProps\" v-slot=\"{ hours, minutes }\">\n          <h3>{{ hours }} hours {{ minutes }} minutes</h3>\n        </vue-countdown>\n        <h3>left to submission</h3>\n      </div>\n\n    </div>\n\n    <!-- ANNOUNCEMENTS AND LEADERBOARD -->\n    <div class=\"col-4 dash-section info\">\n\n      <div class=\"panel\" style=\"flex: 1 1 auto\">\n        <h3>Announcements</h3>\n        <div class=\"list\">\n          <template v-if=\"dataLoaded\">\n            <Banner\n              v-for=\"announcement in announcements\"\n              :html=\"announcement.text\"\n              :key=\"announcement.id\"\n              :hideLogo=\"true\"\n              style=\"font-size: 20px\"\n            />\n          </template>\n          <LoadingSpinner v-else />\n        </div>\n      </div>\n\n      <div class=\"panel\" style=\"flex: 0 0 auto\">\n      <h3>Campfire Leaderboard</h3>\n          <LeaderboardBars />\n      </div>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport Banner from '@/components/Banner.vue';\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport LeaderboardBars from '@/components/LeaderboardBars.vue';\nimport Vue from 'vue';\nimport VueCountdown from '@chenfengyuan/vue-countdown';\nimport StreamEventBulletin from '@/components/StreamEventBulletin';\nimport generalMixin from '../mixins/general';\nimport scheduleMixin from '../mixins/schedule';\n\nVue.component(VueCountdown.name, VueCountdown);\n\nexport default {\n  name: 'Event',\n  components: {\n    Banner,\n    LoadingSpinner,\n    LeaderboardBars,\n    VueCountdown,\n    StreamEventBulletin,\n  },\n  mixins: [generalMixin, scheduleMixin],\n  methods: {\n    async getAnnouncements() {\n      const announcements = await this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'admin/announcements',\n        {},\n      );\n      const formattedAnnouncements = [];\n      Object.keys(announcements).forEach((a) => {\n        formattedAnnouncements.push(announcements[a]);\n      });\n      // sort the ISO time strings lexicographigally in descending order\n      formattedAnnouncements.sort().reverse();\n      this.announcements = formattedAnnouncements;\n    },\n    goToSponsorAnalytics() {\n      this.$router.push(`/sponsor-analytics?id=${this.getSponsorBoothId()}`);\n    },\n    transformSlotProps(props) {\n      const formattedProps = {};\n      Object.entries(props).forEach(([key, value]) => {\n        if (key !== 'days') { formattedProps[key] = value; }\n      });\n      formattedProps.hours += props.days * 24;\n      return formattedProps;\n    },\n  },\n  data() {\n    const now = new Date();\n    const deadline = new Date(this.getEnvVariable('STOP_HACKING_DATE'));\n\n    return {\n      dataLoaded: false,\n      startDate: new Date(this.getEnvVariable('START_DATE')),\n      endDate: new Date(this.getEnvVariable('END_DATE')),\n      announcements: [],\n      countdownTime: deadline - now,\n      assignedCampfireTeam: null,\n    };\n  },\n  async mounted() {\n    this.getAnnouncements();\n    const { mode } = this.$route.query;\n    if (mode === 'hero') {\n      document.body.className += ' hero';\n    }\n    if (mode === 'hide' || mode === 'hero') {\n      console.log('hide');\n      document.getElementsByClassName('info').forEach((e) => {\n        e.style.visibility = 'hidden';\n      });\n    }\n\n    this.dataLoaded = true;\n  },\n  beforeCreate() {\n    document.body.className = 'event';\n  },\n  beforeDestroy() {\n    document.body.className = '';\n  },\n  async created() {\n    setInterval(() => { this.getAnnouncements(); }, 10000);\n  },\n};\n</script>\n\n<style scoped>\n\nh1 {\n  font-size: 116px;\n  /* color: var(--orange); */\n}\n\nh3 {\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n}\n\n.bitcamp-flame {\n  height: 20rem;\n  margin-bottom: 1rem;\n}\n\n.middle {\n  justify-content: center;\n}\n\n.bottom {\n  justify-content: flex-end;\n}\n\n.dash-section {\n  display: flex;\n  flex-flow: column;\n  height: 100vh;\n}\n\n.panel {\n  background: var(--color-foreground);\n  border-radius: 8px;\n  padding: 1rem;\n  margin: 1rem;\n  overflow-y: hidden !important;\n  -webkit-overflow-y: hidden !important;\n}\n\n.list {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  max-height: 85vh;\n  overflow-y: hidden !important;\n  -webkit-max-height: 85vh !important;\n  -webkit-overflow-y: hidden !important;\n}\n</style>\n\n<style>\n\nbody.event .intercom-lightweight-app {\n  display: none;\n}\n</style>\n"]}]}