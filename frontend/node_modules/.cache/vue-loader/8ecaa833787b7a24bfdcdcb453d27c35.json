{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Passport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Passport.vue","mtime":1634085832813},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIudnVlJzsKaW1wb3J0IGdlbmVyYWxNaXhpbiBmcm9tICcuLi9taXhpbnMvZ2VuZXJhbCc7CmltcG9ydCB1c2Vyc01peGluIGZyb20gJy4uL21peGlucy91c2Vycyc7CmltcG9ydCBBY2hpZXZlbWVudFN0aWNrZXIgZnJvbSAnLi4vY29tcG9uZW50cy9BY2hpZXZlbWVudFN0aWNrZXIudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGFzc3BvcnQnLAogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmdTcGlubmVyLAogICAgQWNoaWV2ZW1lbnRTdGlja2VyLAogIH0sCiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluLCB1c2Vyc01peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZpdHlMb2FkZWQ6IGZhbHNlLAogICAgICB1c2VyRGlkRmlsbE91dFByb2ZpbGU6IGZhbHNlLAogICAgICBhY2hpZXZlbWVudHM6IFtdLAogICAgICBldmVudHNBdHRlbmRlZDogW10sCiAgICAgIHVzZXJQb2ludHM6IDAsCiAgICB9OwogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGNvbnN0IHVzZXJQYXJhbXMgPSB7CiAgICAgIHVzZXJfaWQ6IHRoaXMuZ2V0VXNlcklkKCksCiAgICB9OwoKICAgIC8vIEZldGNoIGEgdXNlcidzIHBvaW50cyBhbmQgYWNoaWV2ZW1lbnRzCiAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgIHRoaXMucGVyZm9ybUdldFJlcXVlc3QoCiAgICAgICAgdGhpcy5nZXRFbnZWYXJpYWJsZSgnQkFDS0VORCcpLAogICAgICAgICdnZXRfYWNoaWV2ZW1lbnRzJywKICAgICAgICB1c2VyUGFyYW1zLAogICAgICApLAogICAgICB0aGlzLnBlcmZvcm1HZXRSZXF1ZXN0KAogICAgICAgIHRoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwKICAgICAgICAnZ2V0X3VzZXJfcG9pbnRzJywKICAgICAgICB1c2VyUGFyYW1zLAogICAgICApLAogICAgICB0aGlzLmNoZWNrSWZVc2VyRGlkRmlsbE91dFByb2ZpbGUoKSwKICAgIF0pOwoKICAgIC8vIE9ubHkgcHJvY2VzcyB0aGUgcmVzcG9uc2VzIGlmIHRoZSByZXF1ZXN0cyBzdWNjZWVkZWQKICAgIGlmIChyZXNwb25zZXMuZXZlcnkoKHJlc3BvbnNlKSA9PiByZXNwb25zZSAhPT0gbnVsbCkpIHsKICAgICAgW3RoaXMuYWNoaWV2ZW1lbnRzLCB0aGlzLnVzZXJQb2ludHMsIHRoaXMudXNlckRpZEZpbGxPdXRQcm9maWxlXSA9IHJlc3BvbnNlczsKICAgICAgLy8gY29uc29sZS5sb2coJ3BvaW50cycsIHRoaXMudXNlclBvaW50cyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdhY2hpZXZlbWVudHMnLCB0aGlzLmFjaGlldmVtZW50cyk7CgogICAgICAvLyBFeHRyYWN0IHBvaW50IHZhbHVlcyBmcm9tIEpTT04gb2JqZWN0CiAgICAgIHRoaXMudXNlclBvaW50cyA9IHRoaXMudXNlclBvaW50cy5wb2ludHM7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcmV0cmlldmUgcG9pbnRzJyk7CiAgICB9CgogICAgdGhpcy5hY3Rpdml0eUxvYWRlZCA9IHRydWU7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb3VudEFjaGlldmVtZW50c09mVHlwZSh0eXBlKSB7CiAgICAgIC8vIENvdW50cyB0aGUgbnVtYmVyIG9mIGFjaGlldmVtZW50cyBvZiBhIHBhcnRpY3VsYXIgdHlwZSAoZS5nLiwgJ3dvcmtzaG9wJykKICAgICAgY29uc3QgYWNoaWV2ZW1lbnRzT2ZUeXBlID0gdGhpcy5hY2hpZXZlbWVudHMuZmlsdGVyKAogICAgICAgIChhY2hpZXZlbWVudCkgPT4gYWNoaWV2ZW1lbnQudHlwZSA9PT0gdHlwZSwKICAgICAgKTsKCiAgICAgIHJldHVybiBhY2hpZXZlbWVudHNPZlR5cGUubGVuZ3RoOwogICAgfSwKICAgIGFzeW5jIGNoZWNrSWZVc2VyRGlkRmlsbE91dFByb2ZpbGUoKSB7CiAgICAgIC8vIFJldHVybnMgd2hldGhlciB0aGUgdXNlciBmaWxsZWQgb3V0IHRoZWlyIHByb2ZpbGUKICAgICAgLy8gYnkgZmV0Y2hpbmcgaXQgZnJvbSB0aGUgc2NoZWR1bGUKCiAgICAgIC8vIEZldGNoIGFuIHVwLXRvLWRhdGUgdXNlciBwcm9maWxlCiAgICAgIGNvbnN0IHVzZXJQYXJhbXMgPSB7IGlkOiB0aGlzLmdldFVzZXJJZCgpIH07CiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLnBlcmZvcm1HZXRSZXF1ZXN0KAogICAgICAgIHRoaXMuZ2V0RW52VmFyaWFibGUoJ0JBQ0tFTkQnKSwKICAgICAgICAndXNlcnMnLAogICAgICAgIHVzZXJQYXJhbXMsCiAgICAgICk7CgogICAgICAvLyBDaGVjayBpZiB0aGUgcHJvZmlsZSBjb250YWlucyBhbGwgb2YgdGhlIHJlcXVyaWVkIGZpZWxkcwogICAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsKICAgICAgICAnZGV2cG9zdCcsCiAgICAgICAgJ2dpdGh1YicsCiAgICAgICAgJ3Byb2plY3RfZGVzY3JpcHRpb24nLAogICAgICAgICdwcm9maWxlX3RleHQnLAogICAgICAgICdlbWFpbCcsCiAgICAgIF07CiAgICAgIGNvbnN0IGlzRmlsbGVkT3V0ID0gdXNlci5oYWNrZXJfcHJvZmlsZSAmJiByZXF1aXJlZEZpZWxkcy5ldmVyeSgoZmllbGQpID0+IGZpZWxkIGluIHVzZXIuaGFja2VyX3Byb2ZpbGUpOwogICAgICByZXR1cm4gaXNGaWxsZWRPdXQ7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsQXR0ZW5kZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmFjaGlldmVtZW50cy5sZW5ndGg7CiAgICB9LAoKICB9LAp9Owo="},{"version":3,"sources":["Passport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Passport.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container class=\"passport-container\">\n    <h2 class=\"page-header\">My Achievements</h2>\n    <p class=\"mb-5\">\n      Your Achievements page helps you keep track of the different events you've\n      attended during the event. By participating in mini games, attending workshops,\n      or speaking to our sponsors, you can earn points for your Campfire Team. See if you can earn\n      all 6 badges by the end of the event!\n    </p>\n    <!-- <p>\n      1 workshop: Access to spotify playlist\n      <span v-if=\"totalAttended > 0\"><a\n          href=\"https://open.spotify.com/playlist/5xif4sULGuWiZDVCcjNXxR?si=9uq8TrP6SQOeFUEaEmFckw\"\n          target=\"_blank\"\n        >(Click here for link)</a></span>\n    </p>\n    <p>\n      3 workshops: Downloadable coloring page\n      <span v-if=\"totalAttended > 2\"><a\n          href=\"https://www.notion.so/Downloadable-Coloring-Pages-f47b9aaf19b440ccb2446a3708ba8241\"\n          target=\"_blank\"\n        >(Click here for link)</a></span>\n    </p>\n    <p>\n      5 workshops: Exclusive Physical Swag\n      <span v-if=\"totalAttended > 4\"><b>Completed!</b></span>\n    </p>\n    <p>\n      Hidden virtual swag: look around the platform for postage stamps to claim\n      your prize!\n    </p> -->\n    <div\n      class=\"display-container\"\n      v-if=\"activityLoaded\"\n    >\n      <div class=\"passport-wrapper\">\n        <div class=\"left-panel-inner\">\n          <div class=\"attendance-title\">\n            <img\n              :src=\"getProfileImageForUser({ id: getUserId()})\"\n              class=\"member-list-photo\"\n            />\n            <b class=\"passport-title-bold\">{{ getUserName() }}</b>\n          </div>\n          <div class=\"events-title-wrapper\">\n            <p><strong>Total Points:</strong> {{userPoints}}</p>\n          </div>\n          <div class=\"dot-wrapper\">\n            <div\n              class=\"achievement\"\n              v-for=\"{id, achievement_name, points} in achievements\"\n              :key=\"id\"\n            >\n              <p class=\"achievement-text\">{{ achievement_name }}</p>\n              <span class=\"achievement-points text-muted\">+{{ points }} points</span>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"d-flex flex-column\"\n          style=\"width: 50%; height: 100%\"\n        >\n          <div class=\"my-3\">\n            <strong class=\"passport-title-bold\">Badges</strong>\n          </div>\n          <div class=\"sticker-container\">\n            <AchievementSticker\n              :active=\"countAchievementsOfType('event-workshop-event') >= 1\"\n              :imgSrc=\"require('@/assets/stickers/compass.svg')\"\n              description=\"Attended 1 Workshop\"\n            />\n            <AchievementSticker\n              :active=\"countAchievementsOfType('event-mini-event') >= 1\"\n              :imgSrc=\"require('@/assets/stickers/tent.svg')\"\n              description=\"Attended 1 Mini Event\"\n            />\n            <AchievementSticker\n              :active=\"userDidFillOutProfile\"\n              :imgSrc=\"require('@/assets/stickers/sign.svg')\"\n              description=\"Completed Your Hacker Profile\"\n            />\n            <AchievementSticker\n              :active=\"countAchievementsOfType('sponsor-zoom') >= 1\"\n              :imgSrc=\"require('@/assets/stickers/binoculars.svg')\"\n              description=\"Joined a Sponsor's Zoom Session\"\n            />\n            <AchievementSticker\n              :active=\"countAchievementsOfType('view-sponsor-booth') >= 5\"\n              :imgSrc=\"require('@/assets/stickers/map.svg')\"\n              description=\"Viewed 5 Sponsor Booths\"\n            />\n            <AchievementSticker\n              :active=\"countAchievementsOfType('event-workshop-event') >= 3\"\n              :imgSrc=\"require('@/assets/stickers/leaf.svg')\"\n              description=\"Attended 3 Workshops\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n    <LoadingSpinner v-else />\n  </b-container>\n</template>\n\n<script>\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\nimport generalMixin from '../mixins/general';\nimport usersMixin from '../mixins/users';\nimport AchievementSticker from '../components/AchievementSticker.vue';\n\nexport default {\n  name: 'Passport',\n  components: {\n    LoadingSpinner,\n    AchievementSticker,\n  },\n  mixins: [generalMixin, usersMixin],\n  data() {\n    return {\n      activityLoaded: false,\n      userDidFillOutProfile: false,\n      achievements: [],\n      eventsAttended: [],\n      userPoints: 0,\n    };\n  },\n  async mounted() {\n    const userParams = {\n      user_id: this.getUserId(),\n    };\n\n    // Fetch a user's points and achievements\n    const responses = await Promise.all([\n      this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'get_achievements',\n        userParams,\n      ),\n      this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'get_user_points',\n        userParams,\n      ),\n      this.checkIfUserDidFillOutProfile(),\n    ]);\n\n    // Only process the responses if the requests succeeded\n    if (responses.every((response) => response !== null)) {\n      [this.achievements, this.userPoints, this.userDidFillOutProfile] = responses;\n      // console.log('points', this.userPoints);\n      // console.log('achievements', this.achievements);\n\n      // Extract point values from JSON object\n      this.userPoints = this.userPoints.points;\n    } else {\n      console.error('Unable to retrieve points');\n    }\n\n    this.activityLoaded = true;\n  },\n  methods: {\n    countAchievementsOfType(type) {\n      // Counts the number of achievements of a particular type (e.g., 'workshop')\n      const achievementsOfType = this.achievements.filter(\n        (achievement) => achievement.type === type,\n      );\n\n      return achievementsOfType.length;\n    },\n    async checkIfUserDidFillOutProfile() {\n      // Returns whether the user filled out their profile\n      // by fetching it from the schedule\n\n      // Fetch an up-to-date user profile\n      const userParams = { id: this.getUserId() };\n      const user = await this.performGetRequest(\n        this.getEnvVariable('BACKEND'),\n        'users',\n        userParams,\n      );\n\n      // Check if the profile contains all of the requried fields\n      const requiredFields = [\n        'devpost',\n        'github',\n        'project_description',\n        'profile_text',\n        'email',\n      ];\n      const isFilledOut = user.hacker_profile && requiredFields.every((field) => field in user.hacker_profile);\n      return isFilledOut;\n    },\n  },\n  computed: {\n    totalAttended() {\n      return this.achievements.length;\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n.passport-container {\n  padding: 30px;\n}\n\n.display-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n}\n\n.passport-wrapper {\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  flex-direction: row;\n  background: var(--color-foreground);\n  box-sizing: border-box;\n  border-radius: 35px 35px 35px 35px;\n  overflow: hidden;\n}\n\n.left-panel-inner {\n  width: 50%;\n  height: 100%;\n  border-right: 2px solid var(--color-light-border);\n  display: flex;\n  flex-direction: column;\n}\n\n.passport-title-bold {\n  margin-left: 1rem;\n  font-size: 36px;\n  line-height: 46px;\n}\n\n.member-list-photo {\n  border-radius: 4px;\n  width: 6rem;\n  height: 6rem;\n  margin: 3px;\n  border: 1px solid var(--color-light-border);\n}\n\n.member-list-info {\n  margin-top: 1rem;\n  margin-bottom: 2rem;\n  margin-right: 1rem;\n  margin-left: 0.75rem;\n}\n\n.attendance-title {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 30%;\n  padding-top: 1rem;\n  flex: 0;\n}\n\n.attendance-text {\n  font-weight: bold;\n  font-size: 36px;\n  line-height: 46px;\n  text-align: center;\n  flex: 0;\n}\n\n.events-title-wrapper {\n  width: 100%;\n  padding-top: 1rem;\n}\n\n.events-title-wrapper p {\n  margin-bottom: 0.5rem;\n}\n\n.dot-wrapper {\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  width: 100%;\n  border-top: 2px solid var(--color-light-border);\n  overflow-y: auto;\n}\n\n@media (max-width: 1500px) {\n  .member-list-photo {\n    width: 5rem;\n    height: 5rem;\n  }\n}\n\n.achievement {\n  text-align: left;\n  padding: 0.5rem;\n  margin: 0 0.5rem;\n}\n\n.achievement:not(:last-child) {\n  border-bottom: 2px solid var(--color-light-border);\n}\n\n.achievement-text {\n  margin-bottom: 0.25rem;\n  font-weight: bold;\n}\n\n.sticker-container {\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-content: space-around;\n  align-items: flex-start;\n}\n\n.sticker {\n  flex-basis: 50%;\n  padding: 0;\n}\n</style>\n"]}]}