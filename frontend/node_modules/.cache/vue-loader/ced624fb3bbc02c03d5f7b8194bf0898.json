{"remainingRequest":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/berlin/Documents/platform/frontend/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/berlin/Documents/platform/frontend/src/views/Login.vue","mtime":1634085832812},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/babel-loader/lib/index.js","mtime":1634257405404},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634257404436},{"path":"/Users/berlin/Documents/platform/frontend/node_modules/vue-loader/lib/index.js","mtime":1634257407250}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0J1dHRvbi52dWUnOwppbXBvcnQgQ29udGVudENvbnRhaW5lciBmcm9tICdAL2NvbXBvbmVudHMvQ29udGVudENvbnRhaW5lci52dWUnOwppbXBvcnQgZ2VuZXJhbE1peGluIGZyb20gJ0AvbWl4aW5zL2dlbmVyYWwnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgQnV0dG9uLAogICAgQ29udGVudENvbnRhaW5lciwKICB9LAogIG1peGluczogW2dlbmVyYWxNaXhpbl0sCiAgcHJvcHM6IHsKICAgIHRyeWluZ1RvSm9pblRlYW06IEJvb2xlYW4sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5CdXR0b25DbGlja2VkOiBmYWxzZSwKICAgICAgdXNlckVtYWlsOiAnJywKICAgICAgZW1haWxOb3RGb3VuZDogZmFsc2UsCiAgICAgIGVtYWlsSW52YWxpZDogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2VuZE1hZ2ljTGluaygpIHsKICAgICAgaWYgKHRoaXMudXNlckVtYWlsICE9PSAnJyAmJiB0aGlzLnVzZXJFbWFpbC5pbmNsdWRlcygnQCcpKSB7CiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlbWFpbDogdGhpcy51c2VyRW1haWwgfTsKICAgICAgICB0aGlzLnBlcmZvcm1Qb3N0UmVxdWVzdCh0aGlzLmdldEVudlZhcmlhYmxlKCdCQUNLRU5EJyksICdhdXRoei9lbWFpbCcsIHBhcmFtcyk7CiAgICAgICAgdGhpcy5sb2dpbkJ1dHRvbkNsaWNrZWQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZW1haWxJbnZhbGlkID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHZlcmlmeVVzZXJJZCgpIHsKICAgICAgaWYgKCghdGhpcy5nZXRVc2VySWQoKSkpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnTG9naW4nKTsKICAgICAgfQogICAgfSwKICAgIG9wZW5TaWdudXBGb3JtKCkgewogICAgICB3aW5kb3cub3Blbih0aGlzLmdldEVudlZhcmlhYmxlKCdTSUdOVVBfRk9STV9MSU5LJyksICdfYmxhbmsnKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gY29uc29sZS5sb2coJ1RlYW0/JywgdGhpcy50cnlpbmdUb0pvaW5UZWFtKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGUodG8pIHsgLy8gd2F0Y2ggcm91dGUgY2hhbmdlcyBhbmQga2ljayB0aGUgdXNlciBvdXQgaWYgdGhleSdyZSBub3QgcHJvcGVybHkgbG9nZ2VkIGluCiAgICAgIGlmICh0by5uYW1lICE9PSAnTG9naW4nKSB7CiAgICAgICAgdGhpcy52ZXJpZnlVc2VySWQoKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page-container\">\n    <div class=\"login-container\">\n      <b-alert\n        :show=\"tryingToJoinTeam\"\n        variant=\"warning\"\n        class=\"team-alert\"\n      >\n        <strong>Warning:</strong> You must log into your platform account before joining a team\n      </b-alert>\n      <content-container v-if=\"!loginButtonClicked\">\n        <template v-slot:title>\n          <h3>Login</h3>\n        </template>\n        <template v-slot:body>\n          <p class=\"description-text\">Instead of using a password, enter your email so Technica can send you a magic link to sign in.</p>\n          <p\n            v-if=\"emailNotFound && !emailInvalid\"\n            class=\"text-error\"\n          >We could not find your email in our records. Hackers will be invited to the platform via email the week of the event. For further assistance, please contact our support team.</p>\n          <p\n            v-if=\"emailInvalid\"\n            class=\"text-error\"\n          >Please enter a valid email address.</p>\n          <form @submit.prevent=\"sendMagicLink\">\n            <div class=\"form-group mx-auto\">\n              <input\n                type=\"email\"\n                class=\"form-control mx-auto\"\n                id=\"emailInput\"\n                placeholder=\"Email\"\n                v-model=\"userEmail\"\n              >\n            </div>\n            <Button @click=\"sendMagicLink\">Send Me a Magic Link</Button>\n            <div class=\"login-footer\">\n              <span style=\"padding-right: .75rem\">or</span>\n              <Button\n                outlined\n                @click=\"openSignupForm()\"\n              >Sign Up</Button>\n            </div>\n          </form>\n        </template>\n      </content-container>\n\n      <content-container v-else>\n        <template v-slot:title>\n          <h3>Check Your Email...</h3>\n        </template>\n        <template v-slot:body>\n          <p\n            class=\"description-text\"\n            style=\"margin-bottom: 3rem\"\n          >We sent an email to <b>{{ userEmail }}</b>! It has a magic link to help sign you in to Technica.</p>\n          <img\n            alt=\"Mail icon\"\n            src=\"../assets/mail-icon.svg\"\n            height=\"120\"\n          >\n        </template>\n      </content-container>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Button from '@/components/Button.vue';\nimport ContentContainer from '@/components/ContentContainer.vue';\nimport generalMixin from '@/mixins/general';\n\nexport default {\n  name: 'Login',\n  components: {\n    Button,\n    ContentContainer,\n  },\n  mixins: [generalMixin],\n  props: {\n    tryingToJoinTeam: Boolean,\n  },\n  data() {\n    return {\n      loginButtonClicked: false,\n      userEmail: '',\n      emailNotFound: false,\n      emailInvalid: false,\n    };\n  },\n  methods: {\n    async sendMagicLink() {\n      if (this.userEmail !== '' && this.userEmail.includes('@')) {\n        const params = { email: this.userEmail };\n        this.performPostRequest(this.getEnvVariable('BACKEND'), 'authz/email', params);\n        this.loginButtonClicked = true;\n      } else {\n        this.emailInvalid = true;\n      }\n    },\n    verifyUserId() {\n      if ((!this.getUserId())) {\n        this.$router.push('Login');\n      }\n    },\n    openSignupForm() {\n      window.open(this.getEnvVariable('SIGNUP_FORM_LINK'), '_blank');\n    },\n  },\n  mounted() {\n    // console.log('Team?', this.tryingToJoinTeam);\n  },\n  watch: {\n    $route(to) { // watch route changes and kick the user out if they're not properly logged in\n      if (to.name !== 'Login') {\n        this.verifyUserId();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.page-container {\n  width: 100vw;\n}\n\n.login-container {\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n@media (min-width: 900px) {\n  .form-control {\n    max-width: 415px;\n  }\n}\n\n.description-text {\n  color: var(--color-muted-text);\n}\n\n.login-footer {\n  margin-bottom: 3rem;\n}\n\n.text-error {\n  color: var(--color-error);\n}\n\n.team-alert {\n  border-radius: var(--border-radius);\n}\n</style>\n"]}]}